<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/config/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/config/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/config/favicon.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"kyleezhang.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"enable":true,"style":"tabs","active":false,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="TypeScript ä½œä¸º JavaScript çš„è¶…é›†ï¼Œç”±äºå…¶é™æ€ç±»å‹ç³»ç»Ÿçš„å¼•å…¥ï¼Œä½¿å¾—å‰ç«¯å¼€å‘å¤§å‹é¡¹ç›®æ›´å®¹æ˜“å®ç°å›¢é˜Ÿå†…ä»£ç è§„èŒƒé™åˆ¶åŠæ¥å£æ•°æ®çº¦å®šï¼ŒåŒæ—¶ä½¿å¾—ä»£ç æ›´å®¹æ˜“é˜…è¯»å’Œç†è§£ï¼Œä½†æ˜¯å½“æˆ‘ä»¬åœ¨åŸºäº TypeScript å®ç°å¤§å‹é¡¹ç›®çš„è¿‡ç¨‹ä¸­åŒæ ·è¦æ³¨æ„å¦‚ä¸‹å†…å®¹ï¼š">
<meta property="og:type" content="article">
<meta property="og:title" content="TypeScriptå·¥ç¨‹åŒ–å®è·µç¬”è®°">
<meta property="og:url" content="http://kyleezhang.com/2021/01/06/typescript-08/index.html">
<meta property="og:site_name" content="kyleezhang&#96;s Blog">
<meta property="og:description" content="TypeScript ä½œä¸º JavaScript çš„è¶…é›†ï¼Œç”±äºå…¶é™æ€ç±»å‹ç³»ç»Ÿçš„å¼•å…¥ï¼Œä½¿å¾—å‰ç«¯å¼€å‘å¤§å‹é¡¹ç›®æ›´å®¹æ˜“å®ç°å›¢é˜Ÿå†…ä»£ç è§„èŒƒé™åˆ¶åŠæ¥å£æ•°æ®çº¦å®šï¼ŒåŒæ—¶ä½¿å¾—ä»£ç æ›´å®¹æ˜“é˜…è¯»å’Œç†è§£ï¼Œä½†æ˜¯å½“æˆ‘ä»¬åœ¨åŸºäº TypeScript å®ç°å¤§å‹é¡¹ç›®çš„è¿‡ç¨‹ä¸­åŒæ ·è¦æ³¨æ„å¦‚ä¸‹å†…å®¹ï¼š">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://kyleezhang.com/assets/typescript-02/01.jpeg">
<meta property="og:image" content="http://kyleezhang.com/assets/typescript-02/02.jpeg">
<meta property="article:published_time" content="2021-01-06T23:41:06.000Z">
<meta property="article:modified_time" content="2022-06-12T11:24:41.825Z">
<meta property="article:author" content="kyleezhang">
<meta property="article:tag" content="TypeScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://kyleezhang.com/assets/typescript-02/01.jpeg">

<link rel="canonical" href="http://kyleezhang.com/2021/01/06/typescript-08/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>TypeScriptå·¥ç¨‹åŒ–å®è·µç¬”è®° | kyleezhang`s Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2KR3NK700N"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-2KR3NK700N');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?f1621cb3fb0792bb294fce1b938d5eef";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="kyleezhang`s Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband">
    <a target="_blank" rel="noopener" href="https://github.com/kyleezhang " class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fff; color:#151513; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    </div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">kyleezhang`s Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>ç«™ç‚¹åœ°å›¾</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://kyleezhang.com/2021/01/06/typescript-08/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/assets/config/avatar.png">
      <meta itemprop="name" content="kyleezhang">
      <meta itemprop="description" content="å­¦æºäºæ€">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kyleezhang`s Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          TypeScriptå·¥ç¨‹åŒ–å®è·µç¬”è®°
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-01-06 23:41:06" itemprop="dateCreated datePublished" datetime="2021-01-06T23:41:06+00:00">2021-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-06-12 11:24:41" itemprop="dateModified" datetime="2022-06-12T11:24:41+00:00">2022-06-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/TypeScript-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">TypeScript å­¦ä¹ ç¬”è®°</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>23k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>21 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>TypeScript ä½œä¸º JavaScript çš„è¶…é›†ï¼Œç”±äºå…¶é™æ€ç±»å‹ç³»ç»Ÿçš„å¼•å…¥ï¼Œä½¿å¾—å‰ç«¯å¼€å‘å¤§å‹é¡¹ç›®æ›´å®¹æ˜“å®ç°å›¢é˜Ÿå†…ä»£ç è§„èŒƒé™åˆ¶åŠæ¥å£æ•°æ®çº¦å®šï¼ŒåŒæ—¶ä½¿å¾—ä»£ç æ›´å®¹æ˜“é˜…è¯»å’Œç†è§£ï¼Œä½†æ˜¯å½“æˆ‘ä»¬åœ¨åŸºäº TypeScript å®ç°å¤§å‹é¡¹ç›®çš„è¿‡ç¨‹ä¸­åŒæ ·è¦æ³¨æ„å¦‚ä¸‹å†…å®¹ï¼š</p>
<a id="more"></a>
<h2 id="å£°æ˜ç©ºé—´"><a class="markdownIt-Anchor" href="#å£°æ˜ç©ºé—´"></a> å£°æ˜ç©ºé—´</h2>
<p>åœ¨ TypeScript é‡Œå­˜åœ¨ä¸¤ç§å£°æ˜ç©ºé—´ï¼šç±»å‹å£°æ˜ç©ºé—´ä¸å˜é‡å£°æ˜ç©ºé—´ï¼š</p>
<h3 id="ä¸€-ç±»å‹å£°æ˜ç©ºé—´"><a class="markdownIt-Anchor" href="#ä¸€-ç±»å‹å£°æ˜ç©ºé—´"></a> ä¸€ã€ç±»å‹å£°æ˜ç©ºé—´</h3>
<p>ç±»å‹å£°æ˜ç©ºé—´åŒ…å«ç”¨æ¥å½“åšç±»å‹æ³¨è§£çš„å†…å®¹ï¼Œä¾‹å¦‚ä¸‹é¢çš„ç±»å‹å£°æ˜ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;&#125;</span><br><span class="line"><span class="keyword">interface</span> Bar &#123;&#125;</span><br><span class="line"><span class="keyword">type</span> Bas = &#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>ä½ å¯ä»¥å°† Foo, Bar, Bas ä½œä¸ºç±»å‹æ³¨è§£ä½¿ç”¨ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> foo: Foo;</span><br><span class="line"><span class="keyword">let</span> bar: Bar;</span><br><span class="line"><span class="keyword">let</span> bas: Bas;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œå°½ç®¡ä½ å®šä¹‰äº† interface Barï¼Œå´å¹¶ä¸èƒ½å¤ŸæŠŠå®ƒä½œä¸ºä¸€ä¸ªå˜é‡æ¥ä½¿ç”¨ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å®šä¹‰åœ¨å˜é‡å£°æ˜ç©ºé—´ä¸­ã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Bar &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> bar = Bar; <span class="comment">// Error: &quot;cannot find name &#x27;Bar&#x27;&quot;</span></span><br></pre></td></tr></table></figure>
<p>å‡ºç°é”™è¯¯æç¤ºæç¤ºï¼š cannot find name â€˜Barâ€™ çš„åŸå› æ˜¯åç§° Bar å¹¶æœªå®šä¹‰åœ¨å˜é‡å£°æ˜ç©ºé—´ã€‚è¿™å°†å¸¦é¢†æˆ‘ä»¬è¿›å…¥ä¸‹ä¸€ä¸ªä¸»é¢˜ â€“ å˜é‡å£°æ˜ç©ºé—´ã€‚</p>
<h3 id="äºŒ-å˜é‡å£°æ˜ç©ºé—´"><a class="markdownIt-Anchor" href="#äºŒ-å˜é‡å£°æ˜ç©ºé—´"></a> äºŒã€å˜é‡å£°æ˜ç©ºé—´</h3>
<p>å˜é‡å£°æ˜ç©ºé—´åŒ…å«å¯ç”¨ä½œå˜é‡çš„å†…å®¹ï¼Œåœ¨ä¸Šæ–‡ä¸­ Class Foo æä¾›äº†ä¸€ä¸ªç±»å‹ Foo åˆ°ç±»å‹å£°æ˜ç©ºé—´ï¼Œæ­¤å¤–å®ƒåŒæ ·æä¾›äº†ä¸€ä¸ªå˜é‡ Foo åˆ°å˜é‡å£°æ˜ç©ºé—´ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> someVar = Foo;</span><br><span class="line"><span class="keyword">const</span> someOtherVar = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>
<p>å› æ­¤å½“æˆ‘ä»¬æƒ³æŠŠä¸€ä¸ªç±»æ¥å½“åšå˜é‡ä¼ é€’æ—¶è¿™æ˜¾å¾—æä¸ºä¾¿æ·ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸èƒ½æŠŠä¸€äº›å¦‚ interface å®šä¹‰çš„å†…å®¹å½“ä½œå˜é‡ä½¿ç”¨ã€‚ä¸æ­¤ç›¸ä¼¼ï¼Œä¸€äº›ç”¨ var å£°æ˜çš„å˜é‡ï¼Œä¹Ÿåªèƒ½åœ¨å˜é‡å£°æ˜ç©ºé—´ä½¿ç”¨ï¼Œä¸èƒ½ç”¨ä½œç±»å‹æ³¨è§£ã€‚ä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">let</span> bar: foo; <span class="comment">// ERROR: &quot;cannot find name &#x27;foo&#x27;&quot;</span></span><br></pre></td></tr></table></figure>
<p>æç¤º ERROR: â€œcannot find name â€˜fooâ€™â€ åŸå› æ˜¯ï¼Œåç§° foo æ²¡æœ‰å®šä¹‰åœ¨ç±»å‹å£°æ˜ç©ºé—´é‡Œã€‚</p>
<h2 id="æ¨¡å—ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#æ¨¡å—ç³»ç»Ÿ"></a> æ¨¡å—ç³»ç»Ÿ</h2>
<h3 id="ä¸€-å…¨å±€æ¨¡å—"><a class="markdownIt-Anchor" href="#ä¸€-å…¨å±€æ¨¡å—"></a> ä¸€ã€å…¨å±€æ¨¡å—</h3>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä¸€ä¸ªç›®å½•ä¸‹å­˜åœ¨ä¸€ä¸ª tsconfig.json æ–‡ä»¶ï¼Œé‚£ä¹ˆå®ƒæ„å‘³ç€è¿™ä¸ªç›®å½•æ˜¯å½“å‰ TypeScript é¡¹ç›®çš„æ ¹ç›®å½•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä½ åœ¨å½“å‰é¡¹ç›®ç›®å½•ä¸‹ä»»ä½•ä¸€å¤„ç¼–å†™çš„ TS ä»£ç æ€»æ˜¯å¯¹äºæ ¹ç›®å½•èµ·çš„æ‰€æœ‰å­ç›®å½•å¯è§ï¼ˆä¸è®ºæ˜¯å˜é‡å£°æ˜ç©ºé—´äº¦æˆ–æ˜¯ç±»å‹å£°æ˜ç©ºé—´éƒ½å¯è§ï¼‰ï¼Œå½“ä½ å¼€å§‹åœ¨ä¸€ä¸ªæ–°çš„ TypeScript æ–‡ä»¶ä¸­å†™ä¸‹ä»£ç æ—¶ï¼Œå®ƒå¤„äºå…¨å±€å‘½åç©ºé—´ä¸­ã€‚å¦‚åœ¨ foo.ts é‡Œçš„ä»¥ä¸‹ä»£ç ã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ åœ¨ç›¸åŒçš„é¡¹ç›®é‡Œåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ–‡ä»¶ bar.tsï¼ŒTypeScript ç±»å‹ç³»ç»Ÿå°†ä¼šå…è®¸ä½ ä½¿ç”¨å˜é‡ fooï¼Œå°±å¥½åƒå®ƒåœ¨å…¨å±€å¯ç”¨ä¸€æ ·ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bar = foo; <span class="comment">// allowed</span></span><br></pre></td></tr></table></figure>
<p>æ¯‹åº¸ç½®ç–‘ï¼Œä½¿ç”¨å…¨å±€å˜é‡ç©ºé—´æ˜¯å±é™©çš„ï¼Œå› ä¸ºå®ƒä¼šä¸æ–‡ä»¶å†…çš„ä»£ç å‘½åå†²çªã€‚æˆ‘ä»¬æ¨èä½¿ç”¨ä¸‹æ–‡ä¸­å°†è¦æåˆ°çš„æ–‡ä»¶æ¨¡å—ã€‚</p>
<h3 id="äºŒ-æ–‡ä»¶æ¨¡å—"><a class="markdownIt-Anchor" href="#äºŒ-æ–‡ä»¶æ¨¡å—"></a> äºŒã€æ–‡ä»¶æ¨¡å—</h3>
<p>æ–‡ä»¶æ¨¡å—ä¹Ÿè¢«ç§°ä¸ºå¤–éƒ¨æ¨¡å—ã€‚å¦‚æœåœ¨ä½ çš„ TypeScript æ–‡ä»¶çš„æ ¹çº§åˆ«ä½ç½®å«æœ‰ import æˆ–è€… exportï¼Œé‚£ä¹ˆå®ƒä¼šåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªæœ¬åœ°çš„ä½œç”¨åŸŸã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä¸Šæ–‡ foo.ts æ”¹æˆå¦‚ä¸‹æ–¹å¼ï¼ˆæ³¨æ„ export ç”¨æ³•ï¼‰ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> foo = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>
<p>åœ¨å…¨å±€å‘½åç©ºé—´é‡Œï¼Œæˆ‘ä»¬ä¸å†æœ‰ fooï¼Œè¿™å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ bar.ts æ¥è¯æ˜ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bar = foo; <span class="comment">// ERROR: &quot;cannot find name &#x27;foo&#x27;&quot;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ æƒ³åœ¨ bar.ts é‡Œä½¿ç”¨æ¥è‡ª foo.ts çš„å†…å®¹ï¼Œä½ å¿…é¡»æ˜¾å¼åœ°å¯¼å…¥å®ƒï¼Œæ›´æ–°åçš„ bar.ts å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; foo &#125; <span class="keyword">from</span> <span class="string">&#x27;./foo&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> bar = foo; <span class="comment">// allow</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ bar.ts æ–‡ä»¶é‡Œä½¿ç”¨ import æ—¶ï¼Œå®ƒä¸ä»…å…è®¸ä½ ä½¿ç”¨ä»å…¶ä»–æ–‡ä»¶å¯¼å…¥çš„å†…å®¹ï¼Œè¿˜ä¼šå°†æ­¤æ–‡ä»¶ bar.ts æ ‡è®°ä¸ºä¸€ä¸ªæ¨¡å—ï¼Œæ–‡ä»¶å†…å®šä¹‰çš„å£°æ˜ä¹Ÿä¸ä¼šâ€œæ±¡æŸ“â€å…¨å±€å‘½åç©ºé—´ã€‚<br />
æ–‡ä»¶æ¨¡å—æ‹¥æœ‰å¼ºå¤§çš„åŠŸèƒ½å’Œè¾ƒå¼ºçš„å¯ç”¨æ€§ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‡å®š tsconfig.json ä¸­çš„ module å±æ€§æŒ‡å®šä¸åŒçš„æ¨¡å—ç³»ç»Ÿï¼Œè¾ƒä¸ºå¸¸ç”¨çš„æ˜¯ ES Module ä»¥åŠ Commonjs æ¨¡å—ï¼š</p>
<h4 id="1-es-module"><a class="markdownIt-Anchor" href="#1-es-module"></a> 1ã€ES Module</h4>
<p>ï¼ˆ1ï¼‰å•ç‹¬å¯¼å‡ºä¸€ä¸ªå˜é‡æˆ–ç±»å‹</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> someVar = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> someType = &#123;</span><br><span class="line">  foo: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ2ï¼‰æ‰¹é‡å¯¼å‡º</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> someVar = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">type</span> someType = &#123;</span><br><span class="line">  <span class="keyword">type</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; someVar, someType &#125;;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ3ï¼‰å¯¼å‡ºæ—¶é‡å‘½å</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> someVar = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; someVar <span class="keyword">as</span> aDifferentName &#125;;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ4ï¼‰é»˜è®¤å¯¼å‡º</p>
<p>ES æ¨¡å—ä¸­å¯¼å‡ºä¸»è¦é€šè¿‡ export default å®ç°ï¼Œä¸»è¦æœ‰å¦‚ä¸‹ä¸‰ç§åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>åœ¨ä¸€ä¸ªå˜é‡ä¹‹å‰ï¼ˆä¸éœ€è¦ä½¿ç”¨ let/const/varï¼‰ï¼›</li>
<li>åœ¨ä¸€ä¸ªå‡½æ•°ä¹‹å‰ï¼ˆä¸éœ€è¦å‡½æ•°åï¼‰ï¼›</li>
<li>åœ¨ä¸€ä¸ªç±»ä¹‹å‰ã€‚</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// some var</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (someVar = <span class="number">123</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// some function</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">someFunction</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// some class</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">someClass</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ5ï¼‰å¯¼å…¥ä¸€ä¸ªå˜é‡æˆ–è€…æ˜¯ä¸€ä¸ªç±»å‹</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; someVar, someType &#125; <span class="keyword">from</span> <span class="string">&#x27;./foo&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ6ï¼‰é€šè¿‡é‡å‘½åçš„æ–¹å¼å¯¼å…¥å˜é‡æˆ–è€…ç±»å‹</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; someVar <span class="keyword">as</span> aDifferentName &#125; <span class="keyword">from</span> <span class="string">&#x27;./foo&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ7ï¼‰æ•´ä½“å¯¼å…¥</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> foo <span class="keyword">from</span> <span class="string">&#x27;./foo&#x27;</span>;</span><br><span class="line"><span class="comment">// ä½ å¯ä»¥ä½¿ç”¨ `foo.someVar` å’Œ `foo.someType` ä»¥åŠå…¶ä»–ä»»ä½•ä» `foo` å¯¼å‡ºçš„å˜é‡æˆ–è€…ç±»å‹</span></span><br></pre></td></tr></table></figure>
<p>ï¼ˆ8ï¼‰åªå¯¼å…¥æ¨¡å—</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;core-js&#x27;</span>; <span class="comment">// ä¸€ä¸ªæ™®é€šçš„ polyfill åº“</span></span><br></pre></td></tr></table></figure>
<p>ï¼ˆ9ï¼‰ä»å…¶ä»–æ¨¡å—å¯¼å…¥åæ•´ä½“å¯¼å‡º</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">&#x27;./foo&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ10ï¼‰ä»å…¶ä»–æ¨¡å—å¯¼å…¥åï¼Œéƒ¨åˆ†å¯¼å‡º</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; someVar &#125; <span class="keyword">from</span> <span class="string">&#x27;./foo&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ11ï¼‰é€šè¿‡é‡å‘½åï¼Œéƒ¨åˆ†å¯¼å‡ºä»å¦ä¸€ä¸ªæ¨¡å—å¯¼å…¥çš„é¡¹ç›®</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; someVar <span class="keyword">as</span> aDifferentName &#125; <span class="keyword">from</span> <span class="string">&#x27;./foo&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ12ï¼‰é»˜è®¤å¯¼å…¥</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> someLocalNameForThisFile <span class="keyword">from</span> <span class="string">&#x27;./foo&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="2-commonjs"><a class="markdownIt-Anchor" href="#2-commonjs"></a> 2ã€CommonJS</h4>
<p>ï¼ˆ1ï¼‰éƒ¨åˆ†å¯¼å‡º</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">someClass</span> </span>&#123;&#125;;</span><br><span class="line"><span class="built_in">exports</span>.someClass = someClass</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ2ï¼‰éƒ¨åˆ†å¯¼å…¥</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> test = <span class="built_in">require</span>(<span class="string">&quot;./foo&quot;</span>).someClass;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ3ï¼‰æ•´ä½“å¯¼å‡º</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Class1</span> </span>&#123;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Class2</span> </span>&#123;&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = &#123; Class1, Class2 &#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ4ï¼‰æ•´ä½“å¯¼å…¥</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> test = <span class="built_in">require</span>(<span class="string">&quot;./foo&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>åœ¨ CommonJS ä¸­ï¼Œæ•´ä½“å¯¼å‡ºå°±æ˜¯ä¸€ä¸ª module.exports ï¼Œexports å®é™…æŒ‡å‘çš„ä¹Ÿæ˜¯ module.exports æŒ‡å‘çš„å¼•ç”¨ï¼Œè€Œ require æ–¹æ³•å®é™…ä¸Šè¿”å›çš„æ˜¯ module.exports è€Œä¸æ˜¯ exportsï¼Œå› æ­¤å¦‚æœå¯¹ exports é‡æ–°èµ‹å€¼ï¼Œåˆ™æ–­å¼€äº† exports å¯¹ module.exports çš„æŒ‡å‘ã€‚</p>
<h4 id="3-commonjsä¸es-moduleä¹‹é—´çš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#3-commonjsä¸es-moduleä¹‹é—´çš„åŒºåˆ«"></a> 3ã€CommonJSä¸ES Moduleä¹‹é—´çš„åŒºåˆ«</h4>
<ul>
<li>CommonJS æ˜¯è¢«åŠ è½½çš„æ—¶å€™è¿è¡Œï¼ŒES Module æ˜¯ç¼–è¯‘çš„æ—¶å€™è¿è¡Œ</li>
<li>CommonJS è¾“å‡ºçš„æ˜¯å€¼çš„æµ…æ‹·è´ï¼ŒES Module è¾“å‡ºå€¼çš„å¼•ç”¨</li>
<li>CommonJS å…·æœ‰ç¼“å­˜ã€‚åœ¨ç¬¬ä¸€æ¬¡è¢«åŠ è½½æ—¶ï¼Œä¼šå®Œæ•´è¿è¡Œæ•´ä¸ªæ–‡ä»¶å¹¶è¾“å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œæ‹·è´ï¼ˆæµ…æ‹·è´ï¼‰åœ¨å†…å­˜ä¸­ã€‚ä¸‹æ¬¡åŠ è½½æ–‡ä»¶æ—¶ï¼Œç›´æ¥ä»å†…å­˜ä¸­å–å€¼</li>
</ul>
<p><strong>CommonJSè¾“å‡ºå€¼æ‹·è´</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span></span><br><span class="line"><span class="built_in">exports</span>.count = count; <span class="comment">// è¾“å‡ºå€¼çš„æ‹·è´</span></span><br><span class="line"><span class="built_in">exports</span>.add = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">//è¿™é‡Œæ”¹å˜countå€¼ï¼Œå¹¶ä¸ä¼šå°†module.exportså¯¹è±¡çš„countå±æ€§å€¼æ”¹å˜</span></span><br><span class="line">  count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; count, add &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./a.js&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(count) <span class="comment">// 0</span></span><br><span class="line">add();</span><br><span class="line"><span class="built_in">console</span>.log(count) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<p><strong>ES Moduleè¾“å‡ºå€¼å¼•ç”¨</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> count = <span class="number">0</span>; <span class="comment">// è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ï¼ŒæŒ‡å‘åŒä¸€å—å†…å­˜</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> add = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">  count++; <span class="comment">// æ­¤æ—¶å¼•ç”¨æŒ‡å‘çš„å†…å­˜å€¼å‘ç”Ÿæ”¹å˜</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; count, add &#125; <span class="keyword">from</span> <span class="string">&#x27;./a.js&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(count) <span class="comment">// 0</span></span><br><span class="line">add();</span><br><span class="line"><span class="built_in">console</span>.log(count) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p><strong>CommonJSè¾“å‡ºæµ…æ‹·è´éªŒè¯</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">const</span> foo = &#123;</span><br><span class="line">	count: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// module.exportsçš„fooå±æ€§ä¸ºfooå¯¹è±¡çš„æµ…æ‹·è´ï¼ŒæŒ‡å‘åŒä¸€ä¸ªå†…å­˜ä¸­</span></span><br><span class="line"><span class="built_in">exports</span>.foo=foo;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.setTimeout(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">	foo.count += <span class="number">1</span></span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;changed foo&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; foo &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./a.js&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;foo&#x27;</span>, foo); <span class="comment">// &#x27;foo&#x27;, &#123;count: 0&#125;</span></span><br><span class="line"><span class="built_in">window</span>.setTimeout(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;after 2s foo&#x27;</span>, foo); <span class="comment">// &#x27;after 2s foo &#x27;, &#123;count: 1&#125;</span></span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br></pre></td></tr></table></figure>
<p>å…¶å®ä¸Šä¸ªğŸŒ°ä¸­çš„ <code>const &#123; foo &#125; = require('./a.js')</code> æˆ–è€… <code>const foo = require('./a.js').foo</code> å†™æ³•æ˜¯ç›¸å½“å±é™©çš„ã€‚å› ä¸º CommonJS è¾“å‡ºçš„å€¼çš„æ‹·è´ï¼Œè‹¥åé¢åœ¨ a.js ä¸­å¯¹ foo çš„å†…å­˜æŒ‡å‘ä½œå‡ºæ”¹åŠ¨ï¼Œåˆ™ä¸èƒ½åŠæ—¶æ›´æ–°ã€‚ä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">const</span> foo = &#123;</span><br><span class="line">	count: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">exports</span>.foo = foo; <span class="comment">// æ­¤æ—¶ foo æŒ‡å‘ &#123;count: 0&#125; çš„å†…å­˜åœ°å€</span></span><br><span class="line"><span class="built_in">window</span>.setTimeout(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">//æ”¹å˜ foo çš„å†…å­˜æŒ‡å‘</span></span><br><span class="line">	<span class="built_in">exports</span>.foo = <span class="string">&#x27;haha&#x27;</span>;</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">const</span>  &#123; foo &#125;  = <span class="built_in">require</span>(<span class="string">&#x27;./a.js&#x27;</span>); <span class="comment">// æ‹·è´äº† foo å±æ€§æŒ‡å‘ &#123;count: 0&#125; å†…å­˜åœ°å€çš„å¼•ç”¨</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;foo&#x27;</span>, foo); <span class="comment">// &#x27;foo&#x27;,&#123;count: 0&#125;</span></span><br><span class="line"><span class="built_in">window</span>.setTimeout(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">//æ­¤å¤„å¹¶æ²¡æœ‰æ”¹å˜</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;after 2s foo&#x27;</span>, foo); <span class="comment">// &#x27;after 2s foo &#x27;,&#123;count: 0&#125;</span></span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br></pre></td></tr></table></figure>
<p>æ”¹è¿›ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">const</span> test = <span class="built_in">require</span>(<span class="string">&#x27;./a.js&#x27;</span>); </span><br><span class="line"><span class="comment">// test æ‹·è´äº† æ•´ä¸ªè¾“å‡ºå¯¹è±¡&#123;foo:&#123;count: 0&#125;&#125;å†…å­˜åœ°å€çš„å¼•ç”¨</span></span><br><span class="line"><span class="comment">// å½“å†…å­˜ä¸­çš„å±æ€§å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯ä»¥æ‹¿åˆ°æœ€æ–°çš„å€¼ï¼Œå› ä¸ºæŒ‡å‘çš„æ˜¯åŒä¸€ç‰‡å†…å­˜</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;foo&#x27;</span>, test.foo); <span class="comment">//&#x27;foo&#x27;,&#123;count: 0&#125;</span></span><br><span class="line"><span class="built_in">window</span>.setTimeout(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">// ä¿è¯è·å–åˆ°çš„æ˜¯æœ€æ–°çš„</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;after 2s foo&#x27;</span>, test.foo); <span class="comment">// &#x27;after 2s foo &#x27;,&#x27;haha&#x27;</span></span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br></pre></td></tr></table></figure>
<p>è¿›é˜¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">let</span> foo = <span class="number">1</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  foo = <span class="number">2</span>;</span><br><span class="line">  <span class="built_in">exports</span>.foo = foo</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line"><span class="built_in">exports</span>.foo = foo</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">var</span> test = <span class="built_in">require</span>(<span class="string">&#x27;./a.js&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(test.foo); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(test.foo); <span class="comment">// 2</span></span><br><span class="line">&#125;,<span class="number">2000</span>)</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯éœ€è¦æ³¨æ„ç”±äº module.exports å®é™…ä¸Šè¾“å‡ºçš„æ˜¯å†…å­˜åœ°å€çš„å¼•ç”¨ï¼Œæ‰€ä»¥å¦‚æœç¼“å­˜çš„å†…å­˜åœ°å€ä¾ç„¶å­˜åœ¨ä¸”æ— å˜æ›´çš„è¯ä¾ç„¶æ˜¯ä¹‹å‰çš„å€¼ï¼Œä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">let</span> foo = <span class="number">1</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  foo = <span class="number">2</span>;</span><br><span class="line">  <span class="built_in">module</span>.exports = &#123; foo &#125;; <span class="comment">// æ³¨æ„ï¼šæŒ‡å‘æ–°å†…å­˜ &#123; foo:2 &#125;</span></span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123; foo &#125;; <span class="comment">// æŒ‡å‘å†…å­˜ &#123; foo:1 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">var</span> test = <span class="built_in">require</span>(<span class="string">&#x27;./a.js&#x27;</span>); <span class="comment">// æµ…æ‹·è´ï¼ŒæŒ‡å‘çš„è¿˜æ˜¯ &#123; foo:1 &#125; çš„å†…å­˜ï¼Œå¹¶ç¼“å­˜åœ¨å†…å­˜ä¸­</span></span><br><span class="line"><span class="comment">//ä»ç¼“å­˜çš„å†…å­˜ä¸­å–å€¼</span></span><br><span class="line"><span class="built_in">console</span>.log(test.foo); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">// ä»ç¼“å­˜çš„å†…å­˜å–å€¼</span></span><br><span class="line">  <span class="built_in">console</span>.log(test.foo) <span class="comment">// 1</span></span><br><span class="line">&#125;,<span class="number">2000</span>)</span><br></pre></td></tr></table></figure>
<h4 id="4-å…¼å®¹æ€§å¤„ç†"><a class="markdownIt-Anchor" href="#4-å…¼å®¹æ€§å¤„ç†"></a> 4ã€å…¼å®¹æ€§å¤„ç†</h4>
<p>æˆ‘ä»¬åœ¨ tsconfig.json ä¸­é€šè¿‡é…ç½® target å’Œ module å±æ€§å¯ä»¥å®ç°ä¸åŒç‰ˆæœ¬ã€ä¸åŒæ¨¡å—åŒ–æ–¹æ¡ˆä»£ç çš„ç¼–è¯‘ç”Ÿæˆï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœ target å±æ€§è®¾ä¸º ES3 æˆ– ES5 æ—¶åŠæ—¶ module æŒ‡å®šä¸º es2015 ä¹Ÿä¾ç„¶ä¼šç¼–è¯‘æˆ CommonJS æ¨¡å—ï¼Œä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> a: <span class="built_in">number</span> = <span class="number">1223</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getA</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b: <span class="built_in">string</span> = <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> c: <span class="built_in">string</span> = <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; b, c &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;6666&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–è¯‘åï¼ˆtarget: â€œes5â€, module: â€œes2015â€ï¼‰ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="built_in">exports</span>.__esModule = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">exports</span>.c = <span class="built_in">exports</span>.b = <span class="built_in">exports</span>.getA = <span class="built_in">exports</span>.a = <span class="keyword">void</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.a = <span class="number">1223</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getA</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">exports</span>.a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">exports</span>.getA = getA;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line"><span class="built_in">exports</span>.b = b;</span><br><span class="line"><span class="keyword">var</span> c = <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"><span class="built_in">exports</span>.c = c;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">default_1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;6666&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">exports</span>[<span class="string">&quot;default&quot;</span>] = default_1;</span><br></pre></td></tr></table></figure>
<p>CommonJS æœ¬èº«ä¸æ”¯æŒé»˜è®¤å¯¼å‡ºï¼Œæ‰€ä»¥ CommonJS ä¸­è½¬æ¢ ES Module é»˜è®¤å¯¼å‡ºçš„æ–¹æ¡ˆæ˜¯ç»™ exports æ·»åŠ  default å±æ€§ï¼Œ å› æ­¤é»˜è®¤å¯¼å…¥ä¹Ÿä¼šç›¸åº”çš„å‘ç”Ÿå˜æ›´ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> All <span class="keyword">from</span> <span class="string">&#x27;./action&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(All);</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; a &#125; <span class="keyword">from</span> <span class="string">&#x27;./action&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; getA <span class="keyword">as</span> get &#125; <span class="keyword">from</span> <span class="string">&#x27;./action&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(get);</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> defaultFuc <span class="keyword">from</span> <span class="string">&#x27;./action&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(defaultFuc);</span><br></pre></td></tr></table></figure>
<p>ç¼–è¯‘åï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="built_in">exports</span>.__esModule = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> All = <span class="built_in">require</span>(<span class="string">&quot;./action&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(All); <span class="comment">// &#123;__esModule: true, a: 1223, getA: [Function: getA], b: &#x27;b&#x27;, c: &#x27;c&#x27;, default: [Function: default_1]&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> action_1 = <span class="built_in">require</span>(<span class="string">&quot;./action&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(action_1.a); <span class="comment">// 1223</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> action_2 = <span class="built_in">require</span>(<span class="string">&quot;./action&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(action_2.getA); <span class="comment">// [Function: getA]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> action_3 = <span class="built_in">require</span>(<span class="string">&quot;./action&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(action_3[<span class="string">&quot;default&quot;</span>]); <span class="comment">// [Function: default_1]</span></span><br></pre></td></tr></table></figure>
<p>å› æ­¤ ES Module ä¸­çš„é»˜è®¤å¯¼å‡ºå‘ CommonJS è½¬æ¢å¯¹äºæˆ‘ä»¬å¼€å‘è€…æ¥è¯´å…¶å®æ˜¯æ— æ„ŸçŸ¥çš„ï¼Œå› ä¸ºå®ƒçš„å¼•å…¥çš„æ—¶å€™ä¼šè‡ªåŠ¨è·å–å¯¼å‡ºæ¨¡å—çš„ default å±æ€§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ CommonJS æ¨¡å—ä¸­é€šè¿‡è·å–å¯¼å‡ºå¯¹è±¡çš„ default å±æ€§è·å–é»˜è®¤å¯¼å‡ºï¼Œä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;default&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// b.ts</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="built_in">require</span>(<span class="string">&#x27;./a&#x27;</span>);</span><br><span class="line">a.default(); <span class="comment">// &quot;default&quot;</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ CommonJS æ¨¡å—ä¸­é€šè¿‡ default å±æ€§è°ƒç”¨æ˜¾å¾—æœ‰äº›æ ¼æ ¼ä¸å…¥ï¼Œè€Œä¸”å¾ˆå®¹æ˜“äº§ç”Ÿé”™è¯¯ï¼Œé‚£ä¹ˆå¦‚ä½•è§£å†³ä¸¤ä¸ªæ¨¡å—ç³»ç»Ÿä¹‹é—´çš„ä¸å…¼å®¹æ€§é—®é¢˜å‘¢ï¼ŸTypeScript ä¸ºäº†è§£å†³å…¼å®¹æ€§é—®é¢˜ç»™æˆ‘ä»¬æä¾›äº†ä¸€äº›å…¶ä»–è¯­æ³•ç³–ï¼Œä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.ts</span></span><br><span class="line"><span class="keyword">export</span> = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;I am module A&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// b.ts</span></span><br><span class="line"><span class="keyword">import</span> a = <span class="built_in">require</span>(<span class="string">&#x27;./a&#x27;</span>);</span><br><span class="line"><span class="comment">// import a from &#x27;./a&#x27;;</span></span><br><span class="line">a(); <span class="comment">// &quot;I am module A&quot;</span></span><br></pre></td></tr></table></figure>
<p><code>export = ***</code> è¯­æ³•æœ¬èº«ä¼šè¢«ç¼–è¯‘æˆ CommonJS æ¨¡å—ä¸­çš„ module.exports è¯­æ³•ç³–ï¼Œæ‰€ä»¥åœ¨æ–‡ä»¶ a.ts ä¸­ä¸èƒ½å†å¯¼å…¥å…¶ä»–æ¨¡å—ï¼Œå¦åˆ™ä¼šç¼–è¯‘æŠ¥é”™ã€‚åœ¨ b.ts æ–‡ä»¶ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡ TypeScript æä¾›çš„ <code>import moduleName = require('***')</code> è¯­æ³•å¯¼å…¥ï¼Œéœ€è¦æ³¨æ„å½“ tsconfig.json ä¸­çš„ esModuleInterop å±æ€§å¦‚æœä¸º trueï¼Œè¿™å„¿ä¹Ÿå¯ä»¥é€šè¿‡ ES6 æä¾›çš„æ™®é€šå¯¼å…¥æ–¹æ³•å¯¼å…¥ï¼Œå¦‚æœä¸º false åˆ™åªèƒ½é€šè¿‡ <code>import moduleName = require('***')</code> è¯­æ³•å¯¼å…¥ã€‚</p>
<h2 id="å‘½åç©ºé—´"><a class="markdownIt-Anchor" href="#å‘½åç©ºé—´"></a> å‘½åç©ºé—´</h2>
<p>åœ¨ JavaScript ä¸­å‘½åç©ºé—´èƒ½æœ‰æ•ˆçš„é¿å…å…¨å±€æ±¡æŸ“ï¼Œä½†æ˜¯åœ¨ ES6 å¼•å…¥æ¨¡å—ç³»ç»Ÿä¹‹åå‘½åç©ºé—´å°±å¾ˆå°‘è¢«æåŠäº†ï¼Œä½†æ˜¯ TypeScript ä¸­ä¾ç„¶å®ç°äº†è¿™ä¸ªç‰¹æ€§ï¼Œå°½ç®¡åœ¨æ¨¡å—åŒ–ç³»ç»Ÿä¸­æˆ‘ä»¬å®Œå…¨ä¸ç”¨è€ƒè™‘å‘½åç©ºé—´äº†ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨äº†ä¸€äº›å…¨å±€çš„ç±»åº“ï¼Œå‘½åç©ºé—´ä»ç„¶æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 id="ä¸€-å®šä¹‰"><a class="markdownIt-Anchor" href="#ä¸€-å®šä¹‰"></a> ä¸€ã€å®šä¹‰</h3>
<p>TypeScript ä¸­å‘½åç©ºé—´å¯ä»¥é€šè¿‡å…³é”®å­— namespace å£°æ˜ï¼Œå‘½åç©ºé—´å†…å¯ä»¥å®šä¹‰ä»»æ„å¤šå˜é‡ï¼Œè¿™äº›å˜é‡ä»…åœ¨å‘½åç©ºé—´å†…å¯è§ï¼Œå¦‚æœæƒ³è¦éƒ¨åˆ†æˆå‘˜åœ¨å…¨å±€æ¨¡å—å†…å¯è§çš„è¯åˆ™éœ€è¦ä½¿ç”¨ export å…³é”®å­—å°†å…¶å¯¼å‡ºï¼Œä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.ts</span></span><br><span class="line"><span class="keyword">namespace</span> Shape &#123;</span><br><span class="line">  <span class="keyword">const</span> pi = <span class="built_in">Math</span>.PI;</span><br><span class="line">  <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">circle</span>(<span class="params">r: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> pi * r ** <span class="number">2</span> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// b.ts</span></span><br><span class="line">Shape.circle(<span class="number">2</span>); <span class="comment">// 12.566370614359172</span></span><br></pre></td></tr></table></figure>
<p>éšç€æˆ‘ä»¬ç¨‹åºçš„ä¸æ–­æ‰©å¼ è¿™ä¸ªå‘½åç©ºé—´ä¹Ÿå¯èƒ½ä¼šéšç€ä¸æ–­æ‰©å¤§ï¼Œæ‰€ä»¥éœ€è¦å°†å‘½åç©ºé—´è¿›è¡Œè¿›ä¸€æ­¥çš„æ‹†åˆ†ï¼ŒTypeScriptä¸­å°†å‘½åç©ºé—´è¿›è¡Œæ‹†åˆ†æä¸ºç®€å•ï¼Œä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.ts</span></span><br><span class="line"><span class="keyword">namespace</span> Shape &#123;</span><br><span class="line">  <span class="keyword">const</span> pi = <span class="built_in">Math</span>.PI;</span><br><span class="line">  <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">circle</span>(<span class="params">r: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> pi * r ** <span class="number">2</span> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// b.ts</span></span><br><span class="line"><span class="comment">/// &lt;reference path=&quot;a.ts&quot; /&gt;</span></span><br><span class="line"><span class="comment">// a.tsçš„ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="keyword">namespace</span> Shape &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params">x: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x ** <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Shape.circle(<span class="number">2</span>);</span><br><span class="line">Shape.square(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>åœ¨æ–‡ä»¶ a.ts å’Œ b.ts ä¸­éƒ½é€šè¿‡ namespace å…³é”®å­—å‘½åäº†åŒåçš„å‘½åç©ºé—´ï¼Œé‚£ä¹ˆè¿™ä¸ªå‘½åç©ºé—´å°±åˆ†å¸ƒåœ¨äº†è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸­ï¼Œå®ƒä»¬ä¹‹é—´æ˜¯å…±äº«ä¸€ä¸ªå‘½åç©ºé—´çš„ï¼Œæ­¤å¤„éœ€è¦æ³¨æ„ç”±äºåœ¨ b.ts æ–‡ä»¶ä¸­è°ƒç”¨äº† a.ts æ–‡ä»¶ä¸­å£°æ˜çš„ circle æ–¹æ³•ï¼Œæ‰€ä»¥éœ€è¦åœ¨ b.ts æ–‡ä»¶ä¸­é€šè¿‡ä¸‰æ–œçº¿æŒ‡ä»¤ <code>/// &lt;reference path=&quot;a.ts&quot; /&gt;</code> æ¥è°ƒç”¨ a.ts æ–‡ä»¶ï¼Œæ­¤æ—¶æˆ‘ä»¬ç¼–è¯‘æˆ JavaScript ä»£ç å¹¶æŸ¥çœ‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">var</span> Shape;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">Shape</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pi = <span class="built_in">Math</span>.PI;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">circle</span>(<span class="params">r</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pi * <span class="built_in">Math</span>.pow(r, <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    Shape.circle = circle;</span><br><span class="line">&#125;)(Shape || (Shape = &#123;&#125;));</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="comment">/// &lt;reference path=&quot;a.ts&quot; /&gt;</span></span><br><span class="line"><span class="keyword">var</span> Shape;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">Shape</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.pow(x, <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    Shape.square = square;</span><br><span class="line">&#125;)(Shape || (Shape = &#123;&#125;));</span><br><span class="line">Shape.square(<span class="number">2</span>);</span><br><span class="line">Shape.circle(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>ä»ç¼–è¯‘åçš„ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ° TypeScript ä¸­çš„å‘½åç©ºé—´æœ¬è´¨ä¸Šä¾ç„¶æ˜¯é€šè¿‡ JavaScript çš„ç«‹å³æ‰§è¡ŒåŒ¿åå‡½æ•°å®ç°çš„ï¼Œè¿™åœ¨ JavaScript ç¡®ä¿åˆ›å»ºçš„å˜é‡ä¸ä¼šæ³„æ¼è‡³å…¨å±€å‘½åç©ºé—´æ—¶æ˜¯æä¸ºå¸¸è§çš„ä¸€ç§åšæ³•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·çœ‹ä¸€ä¸‹ TypeScript å‘½åç©ºé—´æˆå‘˜çš„åˆ«åã€‚</p>
<h3 id="äºŒ-æˆå‘˜åˆ«å"><a class="markdownIt-Anchor" href="#äºŒ-æˆå‘˜åˆ«å"></a> äºŒã€æˆå‘˜åˆ«å</h3>
<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­æˆ‘ä»¬æ¯æ¬¡é€šè¿‡ Shape.circle æˆ– Shape.square æ–¹æ³•è°ƒç”¨éš¾å…æœ‰äº›ç¹æ‚ç´¯èµ˜ï¼ŒTypeScript ä¸ºæˆ‘ä»¬æä¾›äº†æ›´ä¸ºç®€ä¾¿çš„è°ƒç”¨ï¼Œä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Shape &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params">x: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x ** <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> square = Shape.square;</span><br><span class="line">square(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„è¿™é‡Œçš„ import ä¸æ¨¡å—ç³»ç»Ÿä¸­çš„ import æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œé€šè¿‡è¿™ç§æ–¹æ³•å°†å‘½åç©ºé—´ä¸­çš„éƒ¨åˆ†æˆå‘˜å¯¼å…¥åæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è°ƒç”¨äº†ï¼Œç”±äºæˆ‘ä»¬åœ¨å¯¼å…¥çš„è¿‡ç¨‹ä¸­è¿˜å¯ä»¥ä¸ºå¯¼å…¥å˜é‡æˆ–å‡½æ•°é‡å‘½åï¼Œå› æ­¤è¿™ç§å‘½åç©ºé—´ä¸­å¯¼å‡ºå˜é‡æˆ–å‡½æ•°çš„å¯¼å…¥æ–¹æ³•çš„ä½¿ç”¨æ›´ä¸ºæ™®éä¸å¹¿æ³›ã€‚</p>
<h3 id="ä¸‰-å‘½åç©ºé—´ä¸å‡½æ•°çš„åˆå¹¶"><a class="markdownIt-Anchor" href="#ä¸‰-å‘½åç©ºé—´ä¸å‡½æ•°çš„åˆå¹¶"></a> ä¸‰ã€å‘½åç©ºé—´ä¸å‡½æ•°çš„åˆå¹¶</h3>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">lib</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> lib &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">let</span> version = <span class="string">&#x27;0.1.0&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­æˆ‘ä»¬é€šè¿‡å‘½åç©ºé—´ä¸åŒåå‡½æ•°çš„åˆå¹¶å®ç°äº†å‘å‡½æ•° lib ä¸­æ·»åŠ å±æ€§ versionï¼Œè¿™åœ¨ JavaScript ä¸­æ˜¯æä¸ºå¸¸è§çš„ï¼ŒTypeScript ä¸ºæˆ‘ä»¬æä¾›äº†è¿™ç§æ›´ä¸ºä¼˜é›…çš„å®ç°ï¼Œæˆ‘ä»¬æŸ¥çœ‹å…¶ç¼–è¯‘åçš„ JavaScript ä»£ç æ˜¯æ€æ ·çš„ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">lib</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">lib</span>) </span>&#123;</span><br><span class="line">    lib.version = <span class="string">&#x27;0.1.0&#x27;</span>;</span><br><span class="line">&#125;)(lib || (lib = &#123;&#125;));</span><br></pre></td></tr></table></figure>
<p>ä¸ä¹‹ç±»ä¼¼å‘½åç©ºé—´è¿˜å¯ä»¥ä¸ç±»åˆå¹¶ä¸ºå…¶æ·»åŠ é™æ€å±æ€§ï¼Œä¸æšä¸¾ç±»å‹åˆå¹¶ä¸ºå…¶æ·»åŠ æ–¹æ³•ï¼Œä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> </span>&#123;&#125;</span><br><span class="line"><span class="keyword">namespace</span> C &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">let</span> version = <span class="string">&#x27;0.1.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(C.version) <span class="comment">// &#x27;0.1.0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">enum</span> Color &#123;</span><br><span class="line">  Red,</span><br><span class="line">  Yellow</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">namespace</span> Color &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">mix</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(Color.mix) <span class="comment">// function mix() &#123;&#125; </span></span><br></pre></td></tr></table></figure>
<p>æ­¤å¤„éœ€è¦æ³¨æ„å‘½åç©ºé—´ä¸ç±»æˆ–ä¸å‡½æ•°åˆå¹¶æ—¶ï¼Œå‡½æ•°æˆ–ç±»çš„å®šä¹‰å¿…é¡»åœ¨å‘½åç©ºé—´å‰é¢ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œè€Œæšä¸¾ç±»å‹ä¸å‘½åç©ºé—´çš„å®šä¹‰ä¹‹é—´çš„ä½ç½®å…ˆåæ˜¯æ²¡æœ‰è¦æ±‚çš„ï¼Œ</p>
<h2 id="å£°æ˜åˆå¹¶"><a class="markdownIt-Anchor" href="#å£°æ˜åˆå¹¶"></a> å£°æ˜åˆå¹¶</h2>
<p>TypeScript ä¸­çš„å£°æ˜åˆå¹¶å®é™…ä¸Šå°±æ˜¯æŒ‡ç¼–è¯‘å™¨ä¼šæŠŠç¨‹åºä¸­çš„å¤šä¸ªåœ°æ–¹å…·æœ‰ç›¸åŒåç§°çš„å¤šä¸ªå£°æ˜åˆå¹¶ä¸ºä¸€ä¸ªå£°æ˜ï¼Œè¿™æ ·åšçš„å¥½å¤„åœ¨äºå¯ä»¥æŠŠç¨‹åºä¸­æ•£è½å„å¤„çš„å£°æ˜åˆå¹¶åœ¨ä¸€èµ·ï¼Œè¿›è€Œé¿å…å¯¹ç¨‹åºå£°æ˜çš„é—æ¼ï¼Œä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a: A = &#123;</span><br><span class="line">  x: <span class="number">12</span>,</span><br><span class="line">  y: <span class="number">14</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>TypeScript è¦æ±‚å£°æ˜åˆå¹¶ä¸­éå‡½æ•°æˆå‘˜å¿…é¡»å…·æœ‰å”¯ä¸€æ€§ï¼Œå³æœ€å¥½æ²¡æœ‰ç›¸åŒçš„å±æ€§åï¼Œå¦‚æœä¸¤å¤„å£°æ˜å…·æœ‰ç›¸åŒçš„å±æ€§åˆ™å¿…é¡»ç±»å‹ä¸€è‡´ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">  y: <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  <span class="comment">// Property &#x27;y&#x27; must be of type &#x27;string | number&#x27;, but here has type &#x27;number&#x27;.</span></span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆå‡½æ•°æˆå‘˜ä¼šæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿå®é™…ä¸Š TypeScript ä¼šå°†æ¯ä¸ªå‡½æ•°çœ‹ä½œå‡½æ•°é‡è½½ï¼Œä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">  func(x: <span class="built_in">string</span>): <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">  func(x: <span class="built_in">number</span>): <span class="built_in">number</span>;</span><br><span class="line">  func(x: <span class="built_in">number</span>[]): <span class="built_in">number</span>[];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a: A = &#123;</span><br><span class="line">  x: <span class="number">12</span>,</span><br><span class="line">  y: <span class="number">14</span>,</span><br><span class="line">  <span class="function"><span class="title">func</span>(<span class="params">x: <span class="built_in">any</span></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆå£°æ˜åˆå¹¶çš„æ—¶å€™å‡½æ•°é‡è½½åˆ—è¡¨çš„é¡ºåºæ˜¯å¦‚ä½•ç¡®å®šçš„å‘¢ï¼Ÿå®é™…ä¸Šè¿™é‡Œä¸»è¦ä¼šéµå¾ªä¸¤ä¸ªåŸåˆ™ï¼š</p>
<ol>
<li>æ¥å£å†…éƒ¨æŒ‰ç…§ä¹¦å†™å…ˆåé¡ºåºç¡®å®š</li>
<li>ä¸åŒæ¥å£é—´åé¢çš„ä¼šæ’åœ¨å‰é¢</li>
</ol>
<p>å› æ­¤ä¸Šè¿°ç¤ºä¾‹ä¸­ func å±æ€§çš„æ’åˆ—é¡ºåºå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">  func(x: <span class="built_in">string</span>): <span class="built_in">string</span>; <span class="comment">// 3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">  func(x: <span class="built_in">number</span>): <span class="built_in">number</span>; <span class="comment">// 1</span></span><br><span class="line">  func(x: <span class="built_in">number</span>[]): <span class="built_in">number</span>[]; <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸è¿‡ä¸Šé¢çš„åŸåˆ™ä¹Ÿæœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œå¦‚æœå‡½æ•°çš„å‚æ•°ä¸ºå­—ç¬¦ä¸²çš„å­—é¢é‡çš„è¯é‚£ä¹ˆè¿™ä¸ªå£°æ˜å°±ä¼šè¢«æå‡åˆ°æ•´ä¸ªå‡½æ•°å£°æ˜çš„æœ€é¡¶ç«¯ï¼Œä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">  func(x: <span class="built_in">string</span>): <span class="built_in">string</span>; <span class="comment">// 5</span></span><br><span class="line">  func(x: <span class="string">&#x27;b&#x27;</span>): <span class="built_in">string</span>; <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">  func(x: <span class="built_in">number</span>): <span class="built_in">number</span>; <span class="comment">// 3</span></span><br><span class="line">  func(x: <span class="built_in">number</span>[]): <span class="built_in">number</span>[]; <span class="comment">// 4</span></span><br><span class="line">  func(x: <span class="string">&#x27;a&#x27;</span>): <span class="built_in">string</span>; <span class="comment">// 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å£°æ˜æ–‡ä»¶"><a class="markdownIt-Anchor" href="#å£°æ˜æ–‡ä»¶"></a> å£°æ˜æ–‡ä»¶</h2>
<h3 id="ä¸€-å£°æ˜è¯­æ³•"><a class="markdownIt-Anchor" href="#ä¸€-å£°æ˜è¯­æ³•"></a> ä¸€ã€å£°æ˜è¯­æ³•</h3>
<h4 id="1-å…¨å±€å˜é‡"><a class="markdownIt-Anchor" href="#1-å…¨å±€å˜é‡"></a> 1ã€å…¨å±€å˜é‡</h4>
<p>ä½¿ç”¨ declare var å£°æ˜å˜é‡ã€‚ å¦‚æœå˜é‡æ˜¯åªè¯»çš„ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ declare constã€‚ ä½ è¿˜å¯ä»¥ä½¿ç”¨ declare let å˜é‡æ‹¥æœ‰å—çº§ä½œç”¨åŸŸã€‚</p>
<p>ä»£ç :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;Half the number of widgets is &quot;</span> + (foo / <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p>å£°æ˜:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare <span class="keyword">var</span> foo: number</span><br></pre></td></tr></table></figure>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå…¨å±€å˜é‡éƒ½æ˜¯ç¦æ­¢ä¿®æ”¹çš„å¸¸é‡ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†æƒ…å†µéƒ½åº”è¯¥ä½¿ç”¨ const è€Œä¸æ˜¯ var æˆ– letã€‚</p>
<h4 id="2-å…¨å±€å‡½æ•°"><a class="markdownIt-Anchor" href="#2-å…¨å±€å‡½æ•°"></a> 2ã€å…¨å±€å‡½æ•°</h4>
<p>ä½¿ç”¨ declare function å£°æ˜å‡½æ•°</p>
<p>ä»£ç :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">greet(<span class="string">&quot;hello, world&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>å£°æ˜:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">greet</span>(<span class="params">greeting: <span class="built_in">string</span></span>): <span class="title">void</span></span></span><br></pre></td></tr></table></figure>
<p>åœ¨å£°æ˜è¯­å¥ä¸­ï¼Œæ”¯æŒå‡½æ•°é‡è½½</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">greet</span>(<span class="params">greeting: <span class="built_in">string</span></span>): <span class="title">void</span></span></span><br><span class="line"><span class="function"><span class="title">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">greet</span>(<span class="params">greeting: <span class="built_in">number</span></span>): <span class="title">void</span></span></span></span><br></pre></td></tr></table></figure>
<h4 id="3-å¸¦å±æ€§çš„å¯¹è±¡"><a class="markdownIt-Anchor" href="#3-å¸¦å±æ€§çš„å¯¹è±¡"></a> 3ã€å¸¦å±æ€§çš„å¯¹è±¡</h4>
<p>ä½¿ç”¨ declare namespace æè¿°ç”¨ç‚¹è¡¨ç¤ºæ³•è®¿é—®çš„ç±»å‹æˆ–å€¼</p>
<p>ä»£ç :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = myLib.makeGreeting(<span class="string">&quot;hello, world&quot;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;The computed greeting is:&quot;</span> + result)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> count = myLib.numberOfGreetings</span><br></pre></td></tr></table></figure>
<p>å£°æ˜:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> myLib &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">makeGreeting</span>(<span class="params">s: <span class="built_in">string</span></span>): <span class="title">string</span></span></span><br><span class="line"><span class="function">    <span class="title">let</span> <span class="title">numberOfGreetings</span>: <span class="title">number</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="4-å¯é‡ç”¨ç±»å‹æ¥å£æˆ–ç±»å‹"><a class="markdownIt-Anchor" href="#4-å¯é‡ç”¨ç±»å‹æ¥å£æˆ–ç±»å‹"></a> 4ã€å¯é‡ç”¨ç±»å‹æ¥å£æˆ–ç±»å‹</h4>
<p>é™¤äº†å…¨å±€å˜é‡ä¹‹å¤–ï¼Œå¯èƒ½æœ‰ä¸€äº›ç±»å‹æˆ‘ä»¬ä¹Ÿå¸Œæœ›èƒ½æš´éœ²å‡ºæ¥ã€‚åœ¨ç±»å‹å£°æ˜æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ interface æˆ– type æ¥å£°æ˜ä¸€ä¸ªå…¨å±€çš„æ¥å£æˆ–ç±»å‹ã€‚</p>
<p>ä»£ç :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">greet(&#123;</span><br><span class="line">  greeting: <span class="string">&quot;hello world&quot;</span>,</span><br><span class="line">  duration: <span class="number">4000</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>å£°æ˜:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> GreetingSettings &#123;</span><br><span class="line">  greeting: <span class="built_in">string</span></span><br><span class="line">  duration?: <span class="built_in">number</span></span><br><span class="line">  color?: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">greet</span>(<span class="params">setting: GreetingSettings</span>): <span class="title">void</span></span></span><br></pre></td></tr></table></figure>
<p>type ä¸ interface ç±»ä¼¼.</p>
<h4 id="5-ç»„ç»‡ç±»å‹"><a class="markdownIt-Anchor" href="#5-ç»„ç»‡ç±»å‹"></a> 5ã€ç»„ç»‡ç±»å‹</h4>
<p>ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> g = <span class="keyword">new</span> Greeter(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">g.log(&#123; <span class="attr">verbose</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">g.alert(&#123; <span class="attr">modal</span>: <span class="literal">false</span>, <span class="attr">title</span>: <span class="string">&quot;Current Greeting&quot;</span> &#125;)</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å‘½åç©ºé—´ç»„ç»‡ç±»å‹</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> Greeter &#123;</span><br><span class="line">  <span class="keyword">interface</span> LogOptions &#123;</span><br><span class="line">    verbose?: <span class="built_in">boolean</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">interface</span> AlertOptions &#123;</span><br><span class="line">    modal: <span class="built_in">boolean</span></span><br><span class="line">    title?: <span class="built_in">string</span></span><br><span class="line">    color?: <span class="built_in">string</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªå£°æ˜ä¸­åˆ›å»ºåµŒå¥—çš„å‘½åç©ºé—´</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> Greeter.Options &#123;</span><br><span class="line">  <span class="comment">// Refer to via Greeter.Options.Log</span></span><br><span class="line">  <span class="keyword">interface</span> Log &#123;</span><br><span class="line">    verbose?: <span class="built_in">boolean</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">interface</span> Alert &#123;</span><br><span class="line">    modal: <span class="built_in">boolean</span></span><br><span class="line">    title?: <span class="built_in">string</span></span><br><span class="line">    color?: <span class="built_in">string</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="6-å…¨å±€ç±»"><a class="markdownIt-Anchor" href="#6-å…¨å±€ç±»"></a> 6ã€å…¨å±€ç±»</h4>
<p>ä½¿ç”¨ declare class æè¿°ä¸€ä¸ªç±»æˆ–åƒç±»ä¸€æ ·çš„å¯¹è±¡ã€‚ ç±»å¯ä»¥æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå°±å’Œæ„é€ å‡½æ•°ä¸€æ ·ï¼Œä½†ä¸èƒ½ç”¨æ¥å®šä¹‰å…·ä½“çš„å®ç°ã€‚</p>
<p>ä»£ç :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myGreeter = <span class="keyword">new</span> Greeter(<span class="string">&quot;hello, world&quot;</span>)</span><br><span class="line">myGreeter.greeting = <span class="string">&quot;howdy&quot;</span></span><br><span class="line">myGreeter.showGreeting()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SpecialGreeter</span> <span class="keyword">extends</span> <span class="title">Greeter</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(<span class="string">&quot;Very special greetings&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å£°æ˜:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="class"><span class="keyword">class</span> <span class="title">Greeter</span> </span>&#123;</span><br><span class="line">  <span class="title">constructor</span>(<span class="params">greeting: <span class="built_in">string</span></span>)</span><br><span class="line">  <span class="title">greeting</span>: <span class="title">string</span></span><br><span class="line">  <span class="title">showGreeting</span>(<span class="params"></span>): <span class="title">void</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="äºŒ-å£°æ˜æ–‡ä»¶"><a class="markdownIt-Anchor" href="#äºŒ-å£°æ˜æ–‡ä»¶"></a> äºŒã€å£°æ˜æ–‡ä»¶</h3>
<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸å¯é¿å…çš„è¦å¼•ç”¨å…¶ä»–ç¬¬ä¸‰æ–¹ JavaScript åº“ï¼Œä½†æ˜¯åœ¨ Typescript é¡¹ç›®ä¸­ç›´æ¥å¼•ç”¨ JavaScript åº“æ— æ³•é€šè¿‡ TypeScript çš„ä¸¥æ ¼ç±»å‹æ£€æŸ¥æœºåˆ¶ï¼Œéœ€è¦æˆ‘ä»¬ä¸ºå…¶ç±»å‹å£°æ˜ï¼Œå³å¼•å…¥å£°æ˜æ–‡ä»¶ï¼Œä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">&#x27;jquery&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Error: Try `npm install @types/jquery` if it exists or add a new declaration (.d.ts) file containing `declare module &#x27;jquery&#x27;;`</span></span><br></pre></td></tr></table></figure>
<p>è¿™å„¿æˆ‘ä»¬é€šè¿‡æ¨¡å—åŒ–æ–¹å¼å¼•ç”¨ jquery åº“ï¼Œä½†æ˜¯ç”±äºå…¶æ˜¯ä¸€ä¸ª JavaScript åº“ï¼Œæ‰€ä»¥ TypeScript çš„ç±»å‹æ£€æŸ¥æœºåˆ¶æç¤ºç±»å‹å£°æ˜æ–‡ä»¶ä¸å­˜åœ¨ï¼Œjquery åº“çš„å£°æ˜æ–‡ä»¶æ˜¯å•ç‹¬æä¾›çš„ï¼Œæˆ‘ä»¬è¿™å„¿å®‰è£…ä¸€ä¸‹å°±å¥½ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @types/jquery -D</span><br></pre></td></tr></table></figure>
<p>å®‰è£…å®Œä¹‹åï¼Œå°±å¯ä»¥æ­£å¸¸åœ¨ ts æ–‡ä»¶ä¸­ä½¿ç”¨ jquery äº†ã€‚ä½†æ˜¯éƒ¨åˆ†ç±»åº“æ²¡æœ‰æä¾›å£°æ˜æ–‡ä»¶çš„è¯å°±éœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™å£°æ˜æ–‡ä»¶ï¼Œé‚£ä¹ˆå£°æ˜æ–‡ä»¶è¯¥å¦‚ä½•ç¼–å†™å‘¢ï¼Ÿ</p>
<h4 id="1-ç¼–å†™å£°æ˜æ–‡ä»¶"><a class="markdownIt-Anchor" href="#1-ç¼–å†™å£°æ˜æ–‡ä»¶"></a> 1ã€ç¼–å†™å£°æ˜æ–‡ä»¶</h4>
<p>æˆ‘ä»¬å¹³æ—¶å¼•ç”¨çš„ç¬¬ä¸‰æ–¹åº“ä¸»è¦ç”±ä¸‰ç§ç±»å‹æ„æˆï¼š</p>
<ul>
<li>å…¨å±€ç±»åº“</li>
<li>æ¨¡å—ç±»åº“</li>
<li>UMDç±»åº“</li>
</ul>
<p>å…¨å±€ç±»åº“æ˜¯æŒ‡èƒ½åœ¨å…¨å±€å‘½åç©ºé—´ä¸‹è®¿é—®ï¼Œä¸éœ€è¦ importã€requireç­‰æŒ‡ä»¤å¯¼å…¥ï¼Œä¸»è¦åœ¨ HTML ä¸­é€šè¿‡ <code>&lt;script&gt;</code> æ ‡ç­¾å¼•å…¥ï¼›è€Œæ¨¡å—ç±»åº“åªèƒ½å·¥ä½œåœ¨æ¨¡å—åŠ è½½å™¨çš„ç¯å¢ƒä¸‹ï¼Œéµå¾ªä¸åŒæ¨¡å—åŒ–æ–¹æ¡ˆçš„æ¨¡å—ç±»åº“æœ‰ç€ä¸åŒçš„å¼•å…¥å’Œå¯¼å‡ºæ–¹å¼ï¼Œè€ŒUMDæ¨¡å—æ—¢å¯ä»¥ä½œä¸ºæ¨¡å—å¼•å…¥åˆå¯ä»¥ä½œä¸ºå…¨å±€ä½¿ç”¨ã€‚</p>
<p><strong>ï¼ˆ1ï¼‰å…¨å±€ç±»åº“</strong></p>
<p>ç¼–å†™ js æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">globalLib</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(options)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">globalLib.version = <span class="string">&#x27;1.0.0&#x27;</span></span><br><span class="line"></span><br><span class="line">globalLib.doSomething = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;global lib do something&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œä¸ºå‡½æ•°æ·»åŠ äº†ä¸¤ä¸ªå…ƒç´ ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨ script æ ‡ç­¾å¼•å…¥è¯¥æ–‡ä»¶ï¼Œè®©è¯¥å‡½æ•°ä½œç”¨åœ¨å…¨å±€ã€‚</p>
<p>æˆ‘ä»¬åœ¨ ts ä¸­è°ƒç”¨è¯¥å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">globalLib(&#123; <span class="attr">a</span>: <span class="number">1</span> &#125;) <span class="comment">// Error: Cannot find name &#x27;globalLib&#x27;.</span></span><br></pre></td></tr></table></figure>
<p>æç¤ºæœªæ‰¾åˆ°è¯¥å‡½æ•°ã€‚è§£å†³åŠæ³•ä¸ºå®ƒæ·»åŠ ä¸€ä¸ªå£°æ˜æ–‡ä»¶ï¼Œåœ¨åŒçº§ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåŒå d.ts æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">globalLib</span> (<span class="params">options: globalLib.Options</span>): <span class="title">void</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">declare</span> <span class="title">namespace</span> <span class="title">globalLib</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> version: <span class="built_in">string</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span> (<span class="params"></span>): <span class="title">void</span></span></span><br><span class="line"><span class="function">  <span class="title">interface</span> <span class="title">Options</span> </span>&#123;</span><br><span class="line">    [key: <span class="built_in">string</span>]: <span class="built_in">any</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®šä¹‰äº†ä¸€ä¸ªåŒåå‡½æ•°å’Œå‘½åç©ºé—´ï¼Œåœ¨ä¸Šä¸€ç¯‡å£°æ˜åˆå¹¶ä¸­æœ‰ä»‹ç»è¿‡å‡½æ•°ä¸å‘½åç©ºé—´åˆå¹¶ï¼Œç›¸å½“äºä¸ºå‡½æ•°æ·»åŠ äº†ä¸€äº›é»˜è®¤å±æ€§ã€‚å‡½æ•°å‚æ•°å®šä¹‰äº†ä¸€ä¸ªæ¥å£ï¼Œå‚æ•°æŒ‡å®šä¸ºå¯ç´¢å¼•ç±»å‹ï¼Œæ¥å—ä»»æ„å±æ€§ã€‚declare å…³é”®å­—å¯ä»¥ä¸ºå¤–éƒ¨å˜é‡æä¾›å£°æ˜ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰æ¨¡å—ç±»åº“</strong></p>
<p>ä»¥ä¸‹ä¸º CommonJS æ¨¡å—ç¼–å†™çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> version = <span class="string">&#x27;1.0.0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;moduleLib do something&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">moduleLib</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(options)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">moduleLib.version = version</span><br><span class="line">moduleLib.doSomething = doSomething</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = moduleLib</span><br></pre></td></tr></table></figure>
<p>åŒæ ·æˆ‘ä»¬å°†å®ƒå¼•å…¥ ts æ–‡ä»¶ä¸­ä½¿ç”¨ã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="built_in">module</span> <span class="keyword">from</span> <span class="string">&#x27;./module-lib/index.js&#x27;</span></span><br><span class="line"><span class="comment">// Error: Could not find a declaration file for module &#x27;./module-lib/index.js&#x27;. </span></span><br></pre></td></tr></table></figure>
<p>æç¤ºæœªæ‰¾åˆ°è¯¥æ¨¡å—ï¼ŒåŒæ ·æˆ‘ä»¬éœ€è¦ä¸ºå®ƒç¼–å†™æ–‡ä»¶å£°æ˜ã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">moduleLib</span> (<span class="params">options: Options</span>): <span class="title">void</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">interface</span> <span class="title">Options</span> </span>&#123;</span><br><span class="line">  [key: <span class="built_in">string</span>]: <span class="built_in">any</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> moduleLib &#123;</span><br><span class="line">  <span class="keyword">const</span> version: <span class="built_in">string</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>): <span class="title">void</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">export</span> = <span class="title">moduleLib</span></span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿° ts ä¸åˆšåˆšç¼–å†™çš„å…¨å±€ç±»åº“å£°æ˜æ–‡ä»¶å¤§è‡´ç›¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«è¿™é‡Œéœ€è¦ export è¾“å‡ºã€‚</p>
<p><strong>ï¼ˆ3ï¼‰UMDç±»åº“</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">root, factory</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">&#x27;function&#x27;</span> &amp;&amp; define.amd) &#123;</span><br><span class="line">    define(factory)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">module</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="built_in">module</span>.exports) &#123;</span><br><span class="line">    <span class="built_in">module</span>.exports = factory()</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    root.umdLib = factory()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;(<span class="built_in">this</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    version: <span class="string">&#x27;1.0.0&#x27;</span>,</span><br><span class="line">    doSomething () &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;umd lib do something&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>
<p>åŒæ ·æˆ‘ä»¬å°†å®ƒå¼•å…¥ ts æ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰å£°æ˜æ–‡ä»¶ä¹Ÿä¼šæç¤ºé”™è¯¯ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹ ts å£°æ˜æ–‡ä»¶</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> umdLib &#123;</span><br><span class="line">  <span class="keyword">const</span> version: <span class="built_in">string</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span> (<span class="params"></span>): <span class="title">void</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">export</span> <span class="title">as</span> <span class="title">namespace</span> <span class="title">umdLib</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">export</span> = <span class="title">umdLib</span></span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªå‘½åç©ºé—´ï¼Œå‘½åç©ºé—´å†…æœ‰ä¸¤ä¸ªæˆå‘˜ version å’Œ doSomethingï¼Œåˆ†åˆ«å¯¹åº” umd ä¸­çš„ä¸¤ä¸ªæˆå‘˜ã€‚è¿™é‡Œä¸å…¶ä»–ç±»åº“ä¸åŒçš„æ˜¯ï¼Œå¤šæ·»åŠ äº†ä¸€æ¡è¯­å¥ export as namespace umdLibï¼Œå¦‚æœä¸º umd åº“å£°æ˜ï¼Œè¿™æ¡è¯­å¥å¿…ä¸å¯å°‘ã€‚</p>
<p>umd åŒæ ·å¯ä»¥ä½¿ç”¨å…¨å±€æ–¹å¼å¼•ç”¨ã€‚</p>
<h4 id="2-å£°æ˜æ–‡ä»¶æ”¾å“ªå„¿"><a class="markdownIt-Anchor" href="#2-å£°æ˜æ–‡ä»¶æ”¾å“ªå„¿"></a> 2ã€å£°æ˜æ–‡ä»¶æ”¾å“ªå„¿</h4>
<p>åœ¨ä»‹ç»å£°æ˜æ–‡ä»¶å¦‚ä½•ç¼–å†™ä¹‹å‰ï¼Œåˆ—ä¸¾ä¸€ä¸‹ä¸€èˆ¬å£°æ˜æ–‡ä»¶å­˜æ”¾çš„æ–¹å¼ã€‚</p>
<ol>
<li>ç›®å½• src/@types/ï¼Œåœ¨ src ç›®å½•æ–°å»º @types ç›®å½•ï¼Œåœ¨å…¶ä¸­ç¼–å†™ .d.ts å£°æ˜æ–‡ä»¶ï¼Œå£°æ˜æ–‡ä»¶ä¼šè‡ªåŠ¨è¢«è¯†åˆ«ï¼Œå¯ä»¥åœ¨æ­¤ä¸ºä¸€äº›æ²¡æœ‰å£°æ˜æ–‡ä»¶çš„æ¨¡å—ç¼–å†™è‡ªå·±çš„å£°æ˜æ–‡ä»¶ï¼Œå®é™…ä¸Šåœ¨ tsconfig.json ä¸­ include å­—æ®µåŒ…å«çš„èŒƒå›´å†…ç¼–å†™ .d.tsï¼Œéƒ½å°†è¢«è‡ªåŠ¨è¯†åˆ«ï¼›</li>
<li>ä¸è¢«å£°æ˜çš„ js æ–‡ä»¶åŒçº§ç›®å½•å†…ï¼Œåˆ›å»ºç›¸åŒåç§°çš„ .d.ts æ–‡ä»¶ï¼Œè¿™æ ·ä¹Ÿä¼šè¢«è‡ªåŠ¨è¯†åˆ«ï¼Œå‰é¢ç¤ºä¾‹éƒ½é‡‡ç”¨äº†æ­¤æ–¹æ¡ˆï¼›</li>
<li>è®¾ç½® package.json ä¸­çš„ typings å±æ€§å€¼ï¼Œå¦‚ ./index.d.ts. è¿™æ ·ç³»ç»Ÿä¼šè¯†åˆ«è¯¥åœ°å€çš„å£°æ˜æ–‡ä»¶ã€‚åŒæ ·å½“æˆ‘ä»¬æŠŠè‡ªå·±çš„jsåº“å‘å¸ƒåˆ° npm ä¸Šæ—¶ï¼ŒæŒ‰ç…§è¯¥æ–¹æ³•ç»‘å®šå£°æ˜æ–‡ä»¶ã€‚</li>
<li>é€šè¿‡ npm æ¨¡å—å®‰è£…ï¼Œå¦‚ @type/react ï¼Œå®ƒå°†è¢«å­˜æ”¾åœ¨ node_modules/@types/ è·¯å¾„ä¸‹ã€‚</li>
</ol>
<h4 id="3-å¦‚ä½•å‘å¸ƒå£°æ˜æ–‡ä»¶"><a class="markdownIt-Anchor" href="#3-å¦‚ä½•å‘å¸ƒå£°æ˜æ–‡ä»¶"></a> 3ã€å¦‚ä½•å‘å¸ƒå£°æ˜æ–‡ä»¶</h4>
<p>å¦‚æœæˆ‘ä»¬è‡ªå·±å®ç°äº†ä¸€ä¸ªjsåº“ï¼Œå¦‚ä½•æ¥å†™å£°æ˜æ–‡ä»¶å‘¢ï¼Ÿç›®å‰æœ‰ä¸¤ç§æ–¹å¼ç”¨æ¥å‘å¸ƒå£°æ˜æ–‡ä»¶åˆ° npm ä¸Šï¼š</p>
<ol>
<li>ä¸ä½ çš„ npm åŒ…åŒæ—¶æ†ç»‘åœ¨ä¸€èµ·ï¼›</li>
<li>å‘å¸ƒåˆ° npm ä¸Šçš„ <a target="_blank" rel="noopener" href="https://www.npmjs.com/~types">@types organization</a></li>
</ol>
<p><strong>ï¼ˆ1ï¼‰npmåŒ…å«å£°æ˜æ–‡ä»¶</strong></p>
<p>åœ¨ package.json ä¸­ï¼Œä½ çš„éœ€è¦æŒ‡å®š npm åŒ…çš„ä¸» js æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ è¿˜éœ€è¦æŒ‡å®šä¸»å£°æ˜æ–‡ä»¶ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;owl-redux&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;0.0.1&quot;</span>,</span><br><span class="line">  <span class="string">&quot;description&quot;</span>: <span class="string">&quot;A simple version of redux&quot;</span>,</span><br><span class="line">  <span class="string">&quot;main&quot;</span>: <span class="string">&quot;dist/owl-redux.js&quot;</span>,</span><br><span class="line">  <span class="string">&quot;typings&quot;</span>: <span class="string">&quot;index.d.ts&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ‰çš„ npm åŒ…è®¾ç½®çš„ types å±æ€§ï¼Œå®ƒå’Œ typings å…·æœ‰ç›¸åŒæ„ä¹‰ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰å‘å¸ƒåˆ°@types</strong></p>
<p>@types ä¸‹é¢çš„åŒ…æ˜¯ä» <a target="_blank" rel="noopener" href="https://github.com/DefinitelyTyped/DefinitelyTyped">DefinitelyTyped</a> é‡Œè‡ªåŠ¨å‘å¸ƒçš„ï¼Œé€šè¿‡ types-publisher å·¥å…·ã€‚ å¦‚æœæƒ³è®©ä½ çš„åŒ…å‘å¸ƒä¸º@typesåŒ…ï¼Œåªéœ€è¦æäº¤ä¸€ä¸ªpull requeståˆ° <a target="_blank" rel="noopener" href="https://github.com/DefinitelyTyped/DefinitelyTyped%E3%80%82">https://github.com/DefinitelyTyped/DefinitelyTypedã€‚</a></p>
<h4 id="4-æ’ä»¶"><a class="markdownIt-Anchor" href="#4-æ’ä»¶"></a> 4ã€æ’ä»¶</h4>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³ç»™ä¸€ä¸ªç¬¬ä¸‰æ–¹ç±»åº“æ·»åŠ ä¸€äº›è‡ªå®šä¹‰çš„æ–¹æ³•ã€‚ä»¥ä¸‹ä»‹ç»å¦‚ä½•åœ¨æ¨¡å—æ’ä»¶æˆ–å…¨å±€æ’ä»¶ä¸­æ·»åŠ è‡ªå®šä¹‰æ–¹æ³•ã€‚</p>
<p><strong>ï¼ˆ1ï¼‰æ¨¡å—æ’ä»¶</strong></p>
<p>æˆ‘ä»¬ä½¿ç”¨ moment æ’ä»¶ï¼Œä¸ºå®ƒæ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰æ–¹æ³•ã€‚ å…³é”®å­— declare moduleã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> m <span class="keyword">from</span> <span class="string">&#x27;moment&#x27;</span></span><br><span class="line"><span class="keyword">declare</span> <span class="built_in">module</span> <span class="string">&#x27;moment&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">myFunction</span> (<span class="params"></span>): <span class="title">void</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"><span class="title">m</span>.<span class="title">myFunction</span> = (<span class="params"></span>) =&gt; </span>&#123; <span class="built_in">console</span>.log(<span class="string">&#x27;I am a Fn&#x27;</span>) &#125;</span><br></pre></td></tr></table></figure>
<p><strong>ï¼ˆ2ï¼‰å…¨å±€æ’ä»¶</strong></p>
<p>åœ¨ä¸Šé¢æˆ‘ä»¬æœ‰ä»‹ç»å…¨å±€ç±»åº“ï¼Œæˆ‘ä»¬ä¸ºå®ƒæ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰æ–¹æ³•ã€‚å…³é”®å­— declare globalã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="built_in">global</span> &#123;</span><br><span class="line">  <span class="keyword">namespace</span> globalLib &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">doAnyting</span> (<span class="params"></span>): <span class="title">void</span></span></span><br><span class="line"><span class="function">  &#125;</span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"><span class="title">globalLib</span>.<span class="title">doAnyting</span> = (<span class="params"></span>) =&gt; </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="5-å£°æ˜æ–‡ä»¶ä¾èµ–"><a class="markdownIt-Anchor" href="#5-å£°æ˜æ–‡ä»¶ä¾èµ–"></a> 5ã€å£°æ˜æ–‡ä»¶ä¾èµ–</h4>
<p>åœ¨ä¸ºä¸€ä¸ªå¤§å‹é¡¹ç›®ç¼–å†™å£°æ˜æ–‡ä»¶å…¶å®æ˜¯æä¸ºå¤æ‚çš„ï¼Œé‚£ä¹ˆå¦‚ä½•æ›´å¥½çš„ç®¡ç†è¿™äº›å£°æ˜æ–‡ä»¶å‘¢ï¼Ÿæˆ‘ä»¬ä»¥ @types/jquery ç±»å‹å£°æ˜åº“ä¸ºä¾‹ï¼Œå…¶åœ¨ package.json é…ç½®æ–‡ä»¶ä¸­å…ˆé€šè¿‡ types å­—æ®µæŒ‡å®šäº†ç±»å‹å£°æ˜å…¥å£æ–‡ä»¶ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;types&quot;: &quot;index.d.ts&quot;,</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨ index.d.ts æ–‡ä»¶ä¸­ä¾èµ–äº†å…¶ä»–ç±»å‹å£°æ˜æ–‡ä»¶ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.d.ts</span></span><br><span class="line"><span class="comment">/// &lt;reference types=&quot;sizzle&quot; /&gt;</span></span><br><span class="line"><span class="comment">/// &lt;reference path=&quot;JQueryStatic.d.ts&quot; /&gt;</span></span><br><span class="line"><span class="comment">/// &lt;reference path=&quot;JQuery.d.ts&quot; /&gt;</span></span><br><span class="line"><span class="comment">/// &lt;reference path=&quot;misc.d.ts&quot; /&gt;</span></span><br><span class="line"><span class="comment">/// &lt;reference path=&quot;legacy.d.ts&quot; /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> = jQuery;</span><br></pre></td></tr></table></figure>
<p>è¿™å„¿çš„ä¸‰æ–œçº¿æŒ‡ä»¤å…¶æœ¬è´¨æ˜¯åŒ…å«å•ä¸ªXMLæ ‡ç­¾çš„å•è¡Œæ³¨é‡Šã€‚ æ³¨é‡Šçš„å†…å®¹ä¼šåšä¸ºç¼–è¯‘å™¨æŒ‡ä»¤ä½¿ç”¨ï¼Œåœ¨ TypeScript ä¸­ç¼–è¯‘å™¨ä¼šå¯¹è¾“å…¥æ–‡ä»¶è¿›è¡Œé¢„å¤„ç†æ¥è§£ææ‰€æœ‰ä¸‰æ–œçº¿å¼•ç”¨æŒ‡ä»¤ã€‚ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œé¢å¤–çš„æ–‡ä»¶ä¼šåŠ åˆ°ç¼–è¯‘è¿‡ç¨‹ä¸­ã€‚è¿™ä¸ªè¿‡ç¨‹ä¼šä»¥ä¸€äº›æ ¹æ–‡ä»¶å¼€å§‹ï¼› å®ƒä»¬æ˜¯åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šçš„æ–‡ä»¶æˆ–æ˜¯åœ¨ tsconfig.jsonä¸­çš„&quot;files&quot;åˆ—è¡¨é‡Œçš„æ–‡ä»¶ã€‚ è¿™äº›æ ¹æ–‡ä»¶æŒ‰æŒ‡å®šçš„é¡ºåºè¿›è¡Œé¢„å¤„ç†ã€‚ åœ¨ä¸€ä¸ªæ–‡ä»¶è¢«åŠ å…¥åˆ—è¡¨å‰ï¼Œå®ƒåŒ…å«çš„æ‰€æœ‰ä¸‰æ–œçº¿å¼•ç”¨éƒ½è¦è¢«å¤„ç†ï¼Œè¿˜æœ‰å®ƒä»¬åŒ…å«çš„ç›®æ ‡ã€‚ ä¸‰æ–œçº¿å¼•ç”¨ä»¥å®ƒä»¬åœ¨æ–‡ä»¶é‡Œå‡ºç°çš„é¡ºåºï¼Œä½¿ç”¨æ·±åº¦ä¼˜å…ˆçš„æ–¹å¼è§£æã€‚</p>
<p><code>/// &lt;reference path=&quot;...&quot; /&gt;</code> æŒ‡ä»¤æ˜¯ä¸‰æ–œçº¿æŒ‡ä»¤ä¸­æœ€å¸¸è§çš„ä¸€ç§ï¼Œå®ƒç”¨äºå£°æ˜æ–‡ä»¶é—´çš„ä¾èµ–ï¼Œå‚æ•°æ˜¯ç›®æ ‡æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ï¼Œéœ€è¦æ³¨æ„è¿™å„¿çš„å¼•ç”¨è·¯å¾„æ˜¯ç›¸å¯¹äºåŒ…å«å®ƒçš„æ–‡ä»¶çš„ï¼Œè€Œä¸æ˜¯æ ¹æ–‡ä»¶ã€‚</p>
<p><code>/// &lt;reference types=&quot;...&quot; /&gt;</code> æŒ‡ä»¤å£°æ˜äº†å¯¹æŸä¸ªåŒ…çš„ä¾èµ–ã€‚å¯¹è¿™äº›åŒ…çš„åå­—çš„è§£æä¸åœ¨ importè¯­å¥é‡Œå¯¹æ¨¡å—åçš„è§£æç±»ä¼¼ã€‚ å¯ä»¥ç®€å•åœ°æŠŠä¸‰æ–œçº¿ç±»å‹å¼•ç”¨æŒ‡ä»¤å½“åš import å£°æ˜çš„åŒ…ã€‚ä¾‹å¦‚ï¼ŒæŠŠ <code>/// &lt;reference types=&quot;node&quot; /&gt;</code> å¼•å…¥åˆ°å£°æ˜æ–‡ä»¶ï¼Œè¡¨æ˜è¿™ä¸ªæ–‡ä»¶ä½¿ç”¨äº† @types/node/index.d.ts é‡Œé¢å£°æ˜çš„åå­—ï¼Œå¹¶ä¸”è¿™ä¸ªåŒ…éœ€è¦åœ¨ç¼–è¯‘é˜¶æ®µä¸å£°æ˜æ–‡ä»¶ä¸€èµ·è¢«åŒ…å«è¿›æ¥ã€‚å¯¹äºé‚£äº›åœ¨ç¼–è¯‘é˜¶æ®µç”Ÿæˆçš„å£°æ˜æ–‡ä»¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åœ°æ·»åŠ  <code>/// &lt;reference types=&quot;...&quot; /&gt;</code> ä½†æ˜¯å½“ä¸”ä»…å½“ç»“æœæ–‡ä»¶ä¸­ä½¿ç”¨äº†å¼•ç”¨çš„åŒ…é‡Œçš„å£°æ˜æ—¶æ‰ä¼šåœ¨ç”Ÿæˆçš„å£°æ˜æ–‡ä»¶é‡Œæ·»åŠ ã€‚</p>
<p>éœ€è¦æ³¨æ„å¦‚æœæŒ‡å®šäº†æˆ‘ä»¬åœ¨ tsc æŒ‡ä»¤ä¸­æŒ‡å®šäº† --noResolve ç¼–è¯‘é€‰é¡¹ï¼Œä¸‰æ–œçº¿å¼•ç”¨ä¼šè¢«å¿½ç•¥ï¼Œå®ƒä»¬ä¸ä¼šå¢åŠ æ–°æ–‡ä»¶ï¼Œä¹Ÿä¸ä¼šæ”¹å˜ç»™å®šæ–‡ä»¶çš„é¡ºåºã€‚å½“ä½¿ç”¨ --out æˆ– --outFile é€‰é¡¹æ—¶ï¼Œå®ƒä¹Ÿå¯ä»¥åšä¸ºè°ƒæ•´è¾“å‡ºå†…å®¹é¡ºåºçš„ä¸€ç§æ–¹æ³•ã€‚ æ–‡ä»¶åœ¨è¾“å‡ºæ–‡ä»¶å†…å®¹ä¸­çš„ä½ç½®ä¸ç»è¿‡é¢„å¤„ç†åçš„è¾“å…¥é¡ºåºä¸€è‡´ã€‚</p>
<h2 id="é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#é…ç½®æ–‡ä»¶"></a> é…ç½®æ–‡ä»¶</h2>
<h3 id="ä¸€-æ¦‚è¿°"><a class="markdownIt-Anchor" href="#ä¸€-æ¦‚è¿°"></a> ä¸€ã€æ¦‚è¿°</h3>
<p>å¦‚æœä¸€ä¸ªç›®å½•ä¸‹å­˜åœ¨ä¸€ä¸ª tsconfig.json æ–‡ä»¶ï¼Œé‚£ä¹ˆå®ƒæ„å‘³ç€è¿™ä¸ªç›®å½•æ˜¯ TypeScript é¡¹ç›®çš„æ ¹ç›®å½•ã€‚ tsconfig.jsonæ–‡ä»¶ä¸­æŒ‡å®šäº†ç”¨æ¥ç¼–è¯‘è¿™ä¸ªé¡¹ç›®çš„æ ¹æ–‡ä»¶å’Œç¼–è¯‘é€‰é¡¹ã€‚ ä¸€ä¸ªé¡¹ç›®å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¹‹ä¸€æ¥ç¼–è¯‘ï¼š</p>
<ul>
<li>ä¸å¸¦ä»»ä½•è¾“å…¥æ–‡ä»¶çš„æƒ…å†µä¸‹è°ƒç”¨tscï¼Œç¼–è¯‘å™¨ä¼šä»å½“å‰ç›®å½•å¼€å§‹å»æŸ¥æ‰¾tsconfig.jsonæ–‡ä»¶ï¼Œé€çº§å‘ä¸Šæœç´¢çˆ¶ç›®å½•ã€‚</li>
<li>ä¸å¸¦ä»»ä½•è¾“å…¥æ–‡ä»¶çš„æƒ…å†µä¸‹è°ƒç”¨tscï¼Œä¸”ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°â€“projectï¼ˆæˆ–-pï¼‰æŒ‡å®šä¸€ä¸ªåŒ…å«tsconfig.jsonæ–‡ä»¶çš„ç›®å½•ã€‚</li>
</ul>
<p>å½“å‘½ä»¤è¡Œä¸ŠæŒ‡å®šäº†è¾“å…¥æ–‡ä»¶æ—¶ï¼Œtsconfig.jsonæ–‡ä»¶ä¼šè¢«å¿½ç•¥ã€‚</p>
<h3 id="äºŒ-é…ç½®å±æ€§"><a class="markdownIt-Anchor" href="#äºŒ-é…ç½®å±æ€§"></a> äºŒã€é…ç½®å±æ€§</h3>
<h4 id="1-æ–‡ä»¶é€‰é¡¹"><a class="markdownIt-Anchor" href="#1-æ–‡ä»¶é€‰é¡¹"></a> 1ã€æ–‡ä»¶é€‰é¡¹</h4>
<p>ï¼ˆ1ï¼‰<strong>files</strong>: åŒ…å«ç›¸å¯¹æˆ–ç»å¯¹æ–‡ä»¶è·¯å¾„çš„æ•°ç»„ï¼ŒæŒ‡å®šç¼–è¯‘å™¨å¯ä»¥ç¼–è¯‘çš„æ–‡ä»¶åˆ—è¡¨ã€‚</p>
<p>ï¼ˆ2ï¼‰<strong>include</strong>: æ–‡ä»¶globåŒ¹é…æ¨¡å¼çš„æ•°ç»„ï¼ŒæŒ‡å®šç¼–è¯‘å™¨å¯ä»¥ç¼–è¯‘çš„ç›®å½•æˆ–æ–‡ä»¶åˆ—è¡¨ã€‚</p>
<p>ï¼ˆ3ï¼‰<strong>enclude</strong>: æ–‡ä»¶globåŒ¹é…æ¨¡å¼çš„æ•°ç»„ï¼ŒæŒ‡å®šç¼–è¯‘å™¨å¯ä»¥ç¼–è¯‘çš„ç›®å½•æˆ–æ–‡ä»¶åˆ—è¡¨ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®ŠæŒ‡å®šï¼Œâ€œexcludeâ€ é»˜è®¤æƒ…å†µä¸‹ä¼šæ’é™¤ node_modulesï¼Œbower_componentsï¼Œjspm_packageså’Œ â€œoutDirâ€ ç›®å½•ã€‚</p>
<p>â€œincludeâ€ å’Œ â€œexcludeâ€ å±æ€§æŒ‡å®šä¸€ä¸ªæ–‡ä»¶ glob åŒ¹é…æ¨¡å¼åˆ—è¡¨ã€‚ æ”¯æŒçš„ glob é€šé…ç¬¦æœ‰ï¼š</p>
<ul>
<li>â€˜*â€™ åŒ¹é…0æˆ–å¤šä¸ªå­—ç¬¦ï¼ˆä¸åŒ…æ‹¬ç›®å½•åˆ†éš”ç¬¦ï¼‰</li>
<li>â€˜?â€™ åŒ¹é…ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼ˆä¸åŒ…æ‹¬ç›®å½•åˆ†éš”ç¬¦ï¼‰</li>
<li>â€˜**/â€™ é€’å½’åŒ¹é…ä»»æ„å­ç›®å½•</li>
</ul>
<p>å¦‚æœä¸€ä¸ª glob æ¨¡å¼é‡Œçš„æŸéƒ¨åˆ†åªåŒ…å« â€˜<em>â€™ æˆ– '.</em>â€™ï¼Œé‚£ä¹ˆä»…æœ‰æ”¯æŒçš„æ–‡ä»¶æ‰©å±•åç±»å‹è¢«åŒ…å«åœ¨å†…ï¼ˆæ¯”å¦‚é»˜è®¤ .tsï¼Œ.tsxï¼Œå’Œ .d.tsï¼Œ å¦‚æœ â€œallowJsâ€ è®¾ç½®ä¸º true è¿˜åŒ…å«.js å’Œ .jsxï¼‰ã€‚</p>
<p>å¦‚æœ â€œfilesâ€ å’Œ â€œincludeâ€ éƒ½æ²¡æœ‰è¢«æŒ‡å®šï¼Œç¼–è¯‘å™¨é»˜è®¤åŒ…å«å½“å‰ç›®å½•å’Œå­ç›®å½•ä¸‹æ‰€æœ‰çš„ TypeScript æ–‡ä»¶ï¼ˆ.ts, .d.ts å’Œ .tsxï¼‰ï¼Œæ’é™¤åœ¨ â€œexcludeâ€ é‡ŒæŒ‡å®šçš„æ–‡ä»¶ã€‚å¦‚æœ â€œallowJsâ€ å±æ€§è¢«è®¾ä¸º true é‚£ä¹ˆ JS æ–‡ä»¶ï¼ˆ.js å’Œ .jsxï¼‰ä¹Ÿè¢«åŒ…å«è¿›æ¥ã€‚ å¦‚æœæŒ‡å®šäº† â€œfilesâ€ æˆ– â€œincludeâ€ï¼Œç¼–è¯‘å™¨ä¼šå°†å®ƒä»¬ç»“åˆä¸€å¹¶åŒ…å«è¿›æ¥ã€‚ ä½¿ç”¨ â€œoutDirâ€ æŒ‡å®šçš„ç›®å½•ä¸‹çš„æ–‡ä»¶æ°¸è¿œä¼šè¢«ç¼–è¯‘å™¨æ’é™¤ï¼Œé™¤éä½ æ˜ç¡®åœ°ä½¿ç”¨ â€œfilesâ€ å°†å…¶åŒ…å«è¿›æ¥ï¼ˆè¿™æ—¶å°±ç®—ç”¨excludeæŒ‡å®šä¹Ÿæ²¡ç”¨ï¼‰ã€‚</p>
<p>ä½¿ç”¨ â€œincludeâ€ å¼•å…¥çš„æ–‡ä»¶å¯ä»¥ä½¿ç”¨ â€œexcludeâ€ å±æ€§è¿‡æ»¤ã€‚ ç„¶è€Œï¼Œé€šè¿‡ â€œfilesâ€ å±æ€§æ˜ç¡®æŒ‡å®šçš„æ–‡ä»¶å´æ€»æ˜¯ä¼šè¢«åŒ…å«åœ¨å†…ï¼Œä¸ç®¡ â€œexcludeâ€ å¦‚ä½•è®¾ç½®ã€‚<br />
ä»»ä½•è¢« â€œfilesâ€ æˆ– â€œincludeâ€ æŒ‡å®šçš„æ–‡ä»¶æ‰€å¼•ç”¨çš„æ–‡ä»¶ä¹Ÿä¼šè¢«åŒ…å«è¿›æ¥ã€‚ A.ts å¼•ç”¨äº† B.tsï¼Œå› æ­¤ B.ts ä¸èƒ½è¢«æ’é™¤ï¼Œé™¤éå¼•ç”¨å®ƒçš„ A.ts åœ¨ â€œexcludeâ€ åˆ—è¡¨ä¸­ã€‚</p>
<p>éœ€è¦æ³¨æ„ç¼–è¯‘å™¨ä¸ä¼šå»å¼•å…¥é‚£äº›å¯èƒ½åšä¸ºè¾“å‡ºçš„æ–‡ä»¶ï¼›æ¯”å¦‚ï¼Œå‡è®¾æˆ‘ä»¬åŒ…å«äº† index.tsï¼Œé‚£ä¹ˆ index.d.ts å’Œ index.js ä¼šè¢«æ’é™¤åœ¨å¤–ã€‚ é€šå¸¸æ¥è®²ï¼Œä¸æ¨èåªæœ‰æ‰©å±•åçš„ä¸åŒæ¥åŒºåˆ†åŒç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚</p>
<p>ï¼ˆ4ï¼‰<strong>extends</strong>: æŒ‡å®šç»§æ‰¿çš„é…ç½®æ–‡ä»¶è·¯å¾„</p>
<p>extendsçš„å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŒ…å«æŒ‡å‘å¦ä¸€ä¸ªè¦ç»§æ‰¿æ–‡ä»¶çš„è·¯å¾„ã€‚åœ¨åŸæ–‡ä»¶é‡Œçš„é…ç½®å…ˆè¢«åŠ è½½ï¼Œç„¶åè¢«æ¥è‡³ç»§æ‰¿æ–‡ä»¶é‡Œçš„é…ç½®é‡å†™ã€‚ å¦‚æœå‘ç°å¾ªç¯å¼•ç”¨ï¼Œåˆ™ä¼šæŠ¥é”™ã€‚</p>
<p>ï¼ˆ5ï¼‰<strong>compileOnSave</strong>: åœ¨æœ€é¡¶å±‚è®¾ç½®compileOnSaveæ ‡è®°ï¼Œå¯ä»¥è®©IDEåœ¨ä¿å­˜æ–‡ä»¶çš„æ—¶å€™æ ¹æ®tsconfig.jsoné‡æ–°ç”Ÿæˆæ–‡ä»¶ï¼ˆVSCode ä¸æ”¯æŒï¼‰ã€‚</p>
<h4 id="2-ç¼–è¯‘é€‰é¡¹"><a class="markdownIt-Anchor" href="#2-ç¼–è¯‘é€‰é¡¹"></a> 2ã€ç¼–è¯‘é€‰é¡¹</h4>
<p>ï¼ˆ1ï¼‰<strong>incremental</strong>: æ˜¯å¦å¼€å¯å¢é‡ç¼–è¯‘ï¼Œå¦‚æœå¼€å¯ç¼–è¯‘æ—¶ä¼šç”Ÿæˆå¢é‡ç¼–è¯‘æ–‡ä»¶ï¼Œä¸‹æ¬¡ç¼–è¯‘æ—¶ä¼šåŸºäºæ­¤æ–‡ä»¶è¿›è¡Œå¢é‡ç¼–è¯‘ã€‚</p>
<p>ï¼ˆ2ï¼‰<strong>toBuildIntoFile</strong>: åŒ…å«ç»å¯¹æˆ–ç›¸å¯¹æ–‡ä»¶è·¯å¾„çš„å­—ç¬¦ä¸²ï¼ŒæŒ‡æ˜å¢é‡ç¼–è¯‘æ–‡ä»¶çš„å­˜å‚¨ä½ç½®ã€‚</p>
<p>ï¼ˆ3ï¼‰<strong>diagnostics</strong>: æ˜¯å¦æ‰“å°è¯Šæ–­ä¿¡æ¯</p>
<hr />
<p>ï¼ˆ4ï¼‰<strong>target</strong>: ç¼–è¯‘ç”Ÿæˆè¯­è¨€çš„ç‰ˆæœ¬</p>
<p>ï¼ˆ5ï¼‰<strong>module</strong>: ç¼–è¯‘ç”Ÿæˆè¯­è¨€çš„æ¨¡å—æ ‡å‡†</p>
<p>ï¼ˆ6ï¼‰<strong>outFile</strong>: å°†ç›¸äº’ä¾èµ–çš„å¤šä¸ªæ–‡ä»¶ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ç”¨åœ¨AMDæ¨¡å—ä¸­</p>
<hr />
<p>ï¼ˆ7ï¼‰<strong>lib</strong>: TypeScriptéœ€è¦å£°æ˜çš„ä¸€äº›ç±»åº“ï¼Œå³å£°æ˜æ–‡ä»¶ï¼Œes5 é»˜è®¤ â€œdomâ€, â€œes5â€, â€œscripthostâ€</p>
<hr />
<p>ï¼ˆ8ï¼‰<strong>allowJs</strong>: å…è®¸ç¼–è¯‘ JS æ–‡ä»¶ï¼ˆjsã€jsxï¼‰</p>
<p>ï¼ˆ9ï¼‰<strong>checkJs</strong>: å…è®¸åœ¨ JS æ–‡ä»¶ä¸­æŠ¥é”™ï¼Œå¯ä»¥æç¤ºç›¸åº”çš„é”™è¯¯ä¿¡æ¯ï¼Œé€šå¸¸ä¸ allowJs æ­é…ä½¿ç”¨</p>
<p>ï¼ˆ10ï¼‰<strong>outDir</strong>: æŒ‡å®šè¾“å‡ºæ–‡ä»¶ç›®å½•</p>
<p>ï¼ˆ11ï¼‰<strong>rootDir</strong>: æŒ‡å®šè¾“å…¥æ–‡ä»¶ç›®å½•ï¼Œé»˜è®¤å°±æ˜¯å½“å‰ç›®å½•ï¼ˆç”¨äºæ§åˆ¶è¾“å‡ºç›®å½•ç»“æ„ï¼‰</p>
<hr />
<p>ï¼ˆ12ï¼‰<strong>declaration</strong>: æ˜¯å¦ç”Ÿæˆå£°æ˜æ–‡ä»¶</p>
<p>ï¼ˆ13ï¼‰<strong>declarationDir</strong>: å£°æ˜æ–‡ä»¶çš„è·¯å¾„</p>
<p>ï¼ˆ14ï¼‰<strong>emitDeclarationOnly</strong>: æ˜¯å¦åªç”Ÿæˆå£°æ˜æ–‡ä»¶</p>
<p>ï¼ˆ15ï¼‰<strong>sourceMap</strong>: æ˜¯å¦ç”Ÿæˆç›®æ ‡æ–‡ä»¶çš„ sourceMap</p>
<p>ï¼ˆ16ï¼‰<strong>inlineSourceMap</strong>: æ˜¯å¦ç”Ÿæˆç›®æ ‡æ–‡ä»¶çš„ inline sourceMap</p>
<p>ï¼ˆ17ï¼‰<strong>declarationMap</strong>: æ˜¯å¦ç”Ÿæˆå£°æ˜æ–‡ä»¶çš„ sourceMap</p>
<p>ï¼ˆ18ï¼‰<strong>typeRoots</strong>: æ•°ç»„ï¼ŒæŒ‡å®šå£°æ˜æ–‡ä»¶ç›®å½•ï¼Œé»˜è®¤åŒ…å« node_modules/@types</p>
<p>ï¼ˆ19ï¼‰<strong>types</strong>: æ•°ç»„ï¼Œå£°æ˜æ–‡ä»¶åŒ…</p>
<hr />
<p>ï¼ˆ20ï¼‰<strong>removeComments</strong>: æ˜¯å¦åˆ é™¤æ³¨é‡Š</p>
<hr />
<p>ï¼ˆ21ï¼‰<strong>noEmit</strong>: ä¸è¾“å‡ºæ–‡ä»¶</p>
<p>ï¼ˆ22ï¼‰<strong>noEmitOnError</strong>: å‘ç”Ÿé”™è¯¯æ—¶ä¸è¾“å‡ºæ–‡ä»¶</p>
<hr />
<p>ï¼ˆ23ï¼‰<strong>noEmitHelpers</strong>: TypeScript ä¸­å‘ç”Ÿç±»çš„ç»§æ‰¿æ—¶ç¼–è¯‘ç”Ÿæˆçš„ JavaScript ä»£ç ä¸­ä¼šç”Ÿæˆ helper å‡½æ•°ï¼Œé€šè¿‡ â€œnoEmitHelpersâ€ é€‰é¡¹æˆ‘ä»¬å¯ä»¥æŒ‡å®šä¸ç”Ÿæˆ helper å‡½æ•°ï¼Œä½†åŒæ—¶ä¹Ÿéœ€è¦æˆ‘ä»¬é¢å¤–å®‰è£… ts-helpersï¼Œé™¤æ­¤ä¹‹å¤–æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å¼€å¯ â€œimportHelpersâ€ é€‰é¡¹è§£å†³ã€‚</p>
<p>ï¼ˆ24ï¼‰<strong>importHelpers</strong>: é€‰é¡¹å¼€å¯åç¼–è¯‘ç”Ÿæˆçš„ä»£ç å°†é€šè¿‡ TypeScript å†…ç½®çš„ tslib å¼•å…¥ helper å‡½æ•°ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„æ–‡ä»¶å¿…é¡»æ˜¯æ¨¡å—ã€‚</p>
<hr />
<p>ï¼ˆ25ï¼‰<strong>downlevelInteration</strong>: æ˜¯å¦ä½¿ç”¨é™çº§éå†å™¨ï¼ˆes3/5ï¼‰</p>
<hr />
<p>ï¼ˆ26ï¼‰<strong>strict</strong>: å¼€å¯æ‰€æœ‰ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ï¼Œå³å¼€å¯è¯¥é€‰é¡¹é»˜è®¤å¼€å¯äº†ä¸‹é¢æ‰€æœ‰é€‰é¡¹</p>
<p>ï¼ˆ27ï¼‰<strong>alwaysStrict</strong>: åœ¨ä»£ç ä¸­æ³¨å…¥ â€œuse strictâ€</p>
<p>ï¼ˆ28ï¼‰<strong>noImplictAny</strong>: ä¸å…è®¸éšå¼çš„ any ç±»å‹</p>
<p>ï¼ˆ29ï¼‰<strong>strictNullChecks</strong>: ä¸å…è®¸æŠŠ nullã€undefined èµ‹å€¼ç»™å…¶ä»–ç±»å‹å˜é‡</p>
<p>ï¼ˆ30ï¼‰<strong>strictFunctiontypes</strong>: ä¸å…è®¸å‡½æ•°å‚æ•°åŒå‘åå˜</p>
<p>ï¼ˆ31ï¼‰<strong>strictPropertyInitialization</strong>: ç±»çš„å®ä¾‹å±æ€§å¿…é¡»åˆå§‹åŒ–</p>
<p>ï¼ˆ32ï¼‰<strong>strictBindCallApply</strong>: ä¸¥æ ¼çš„ bind/call/apply æ£€æŸ¥</p>
<p>ï¼ˆ33ï¼‰<strong>noImplicitThis</strong>: ä¸å…è®¸ this æœ‰éšå¼çš„ any ç±»å‹</p>
<hr />
<p>ä»¥ä¸‹é…ç½®ä¸å‡½æ•°çš„æ‰§è¡Œæœ‰å…³ï¼Œå¼€å¯ä¼šå¯¹å¼‚å¸¸æƒ…å†µæŠ¥é”™ä½†ä¸ä¼šé˜»ç¢ç¼–è¯‘çš„è¿›è¡Œ</p>
<p>ï¼ˆ34ï¼‰<strong>noUnusedLocals</strong>: æ£€æŸ¥åªå£°æ˜æœªä½¿ç”¨çš„å±€éƒ¨å˜é‡</p>
<p>ï¼ˆ35ï¼‰<strong>noUnusedParameters</strong>: æ£€æŸ¥æœªä½¿ç”¨çš„å‡½æ•°å‚æ•°</p>
<p>ï¼ˆ36ï¼‰<strong>noFallthroughCaseInSwitch</strong>: é˜²æ­¢ switch è¯­å¥è´¯ç©¿</p>
<p>ï¼ˆ37ï¼‰<strong>noImplicitReturns</strong>: if/else æ¯ä¸ªåˆ†æ”¯éƒ½è¦æœ‰è¿”å›å€¼</p>
<hr />
<p>ï¼ˆ38ï¼‰<strong>esModuleInterop</strong>: å…è®¸ â€œexport =â€ å¯¼å‡ºï¼Œæ—¢å¯ä»¥é€šè¿‡ â€œimport fromâ€ å¯¼å…¥ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ â€œimport =â€ çš„æ–¹å¼å¯¼å…¥</p>
<p>ï¼ˆ39ï¼‰<strong>allowUmdGlobalAccess</strong>: å…è®¸æ¨¡å—ä¸­è®¿é—® umd å…¨å±€å˜é‡</p>
<p>ï¼ˆ40ï¼‰<strong>moduleResolution</strong>: æ¨¡å—è§£æç­–ç•¥ï¼Œé»˜è®¤é‡‡ç”¨ node</p>
<p>TypeScript ä¸­çš„è§£æç­–ç•¥åˆ†ä¸º classic å’Œ nodeï¼Œclassic ç”¨äº AMDã€Systemã€ES2015 æ¨¡å—ç³»ç»Ÿï¼Œ å…¶è·¯å¾„è§£æç­–ç•¥å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<img src="/assets/typescript-02/01.jpeg" width="600" />
<p>å¦‚æœè§£æç­–ç•¥æ˜¯ node åˆ™è·¯å¾„è§£æç­–ç•¥æœ‰æ‰€ä¸åŒï¼š</p>
<img src="/assets/typescript-02/02.jpeg" width="600" />
<p>ï¼ˆ41ï¼‰<strong>baseUrl</strong>: è§£æéç›¸å¯¹æ¨¡å—çš„åŸºåœ°å€</p>
<p>ï¼ˆ42ï¼‰<strong>path</strong>: è·¯å¾„æ˜ å°„ï¼Œç›¸å¯¹äº â€œbaseUrlâ€</p>
<p>ï¼ˆ43ï¼‰<strong>rootDirs</strong>: å°†å¤šä¸ªç›®å½•æ”¾åœ¨ä¸€ä¸ªè™šæ‹Ÿç›®å½•ä¸‹ï¼Œç”¨äºè¿è¡Œæ—¶</p>
<hr />
<p>ï¼ˆ44ï¼‰<strong>listEmitted</strong>: æ‰“å°è¾“å‡ºçš„æ–‡ä»¶</p>
<p>ï¼ˆ45ï¼‰<strong>listFiles</strong>: æ‰“å°ç¼–è¯‘çš„æ–‡ä»¶ï¼ˆåŒ…æ‹¬å¼•ç”¨çš„å£°æ˜æ–‡ä»¶ï¼‰</p>
<h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2>
<p>æå®¢æ—¶é—´ã€ŠTypeScriptå¼€å‘å®æˆ˜ã€‹ä¸“æ </p>
<p>ã€Šæ·±å…¥ç†è§£TypeScriptã€‹</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903598480965646">CommonJs å’Œ ESModule çš„ åŒºåˆ«æ•´ç†</a></p>
<p><a target="_blank" rel="noopener" href="https://www.dengwb.com/typescript/">TypeScriptå¼€å‘æ•™ç¨‹</a></p>

    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    æ‰“èµ
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/assets/config/weixin.png" alt="kyleezhang å¾®ä¿¡æ”¯ä»˜">
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/assets/config/alipay.png" alt="kyleezhang æ”¯ä»˜å®">
        <p>æ”¯ä»˜å®</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>kyleezhang
  </li>
  <li class="post-copyright-link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="http://kyleezhang.com/2021/01/06/typescript-08/" title="TypeScriptå·¥ç¨‹åŒ–å®è·µç¬”è®°">http://kyleezhang.com/2021/01/06/typescript-08/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>

        

  <div class="followme">
    <p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¶å®ƒå‘å¸ƒæ¸ é“</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/assets/config/wechat.png">
            <span class="icon">
              <i class="fab fa-weixin"></i>
            </span>

            <span class="label">WeChat</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/TypeScript/" rel="tag"><i class="fa fa-tag"></i>TypeScript</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/01/03/webpack-codesplitting/" rel="prev" title="Webpackä¸­çš„CodeSplitting">
      <i class="fa fa-chevron-left"></i> Webpackä¸­çš„CodeSplitting
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/01/11/javascript-meta/" rel="next" title="JavaScriptä¸­çš„å…ƒç¼–ç¨‹">
      JavaScriptä¸­çš„å…ƒç¼–ç¨‹ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A3%B0%E6%98%8E%E7%A9%BA%E9%97%B4"><span class="nav-text"> å£°æ˜ç©ºé—´</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80-%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E7%A9%BA%E9%97%B4"><span class="nav-text"> ä¸€ã€ç±»å‹å£°æ˜ç©ºé—´</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C-%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%E7%A9%BA%E9%97%B4"><span class="nav-text"> äºŒã€å˜é‡å£°æ˜ç©ºé—´</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F"><span class="nav-text"> æ¨¡å—ç³»ç»Ÿ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80-%E5%85%A8%E5%B1%80%E6%A8%A1%E5%9D%97"><span class="nav-text"> ä¸€ã€å…¨å±€æ¨¡å—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C-%E6%96%87%E4%BB%B6%E6%A8%A1%E5%9D%97"><span class="nav-text"> äºŒã€æ–‡ä»¶æ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-es-module"><span class="nav-text"> 1ã€ES Module</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-commonjs"><span class="nav-text"> 2ã€CommonJS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-commonjs%E4%B8%8Ees-module%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text"> 3ã€CommonJSä¸ES Moduleä¹‹é—´çš„åŒºåˆ«</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%85%BC%E5%AE%B9%E6%80%A7%E5%A4%84%E7%90%86"><span class="nav-text"> 4ã€å…¼å®¹æ€§å¤„ç†</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-text"> å‘½åç©ºé—´</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80-%E5%AE%9A%E4%B9%89"><span class="nav-text"> ä¸€ã€å®šä¹‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C-%E6%88%90%E5%91%98%E5%88%AB%E5%90%8D"><span class="nav-text"> äºŒã€æˆå‘˜åˆ«å</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%87%BD%E6%95%B0%E7%9A%84%E5%90%88%E5%B9%B6"><span class="nav-text"> ä¸‰ã€å‘½åç©ºé—´ä¸å‡½æ•°çš„åˆå¹¶</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A3%B0%E6%98%8E%E5%90%88%E5%B9%B6"><span class="nav-text"> å£°æ˜åˆå¹¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6"><span class="nav-text"> å£°æ˜æ–‡ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80-%E5%A3%B0%E6%98%8E%E8%AF%AD%E6%B3%95"><span class="nav-text"> ä¸€ã€å£°æ˜è¯­æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="nav-text"> 1ã€å…¨å±€å˜é‡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%85%A8%E5%B1%80%E5%87%BD%E6%95%B0"><span class="nav-text"> 2ã€å…¨å±€å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%B8%A6%E5%B1%9E%E6%80%A7%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="nav-text"> 3ã€å¸¦å±æ€§çš„å¯¹è±¡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%8F%AF%E9%87%8D%E7%94%A8%E7%B1%BB%E5%9E%8B%E6%8E%A5%E5%8F%A3%E6%88%96%E7%B1%BB%E5%9E%8B"><span class="nav-text"> 4ã€å¯é‡ç”¨ç±»å‹æ¥å£æˆ–ç±»å‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E7%BB%84%E7%BB%87%E7%B1%BB%E5%9E%8B"><span class="nav-text"> 5ã€ç»„ç»‡ç±»å‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E5%85%A8%E5%B1%80%E7%B1%BB"><span class="nav-text"> 6ã€å…¨å±€ç±»</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C-%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6"><span class="nav-text"> äºŒã€å£°æ˜æ–‡ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E7%BC%96%E5%86%99%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6"><span class="nav-text"> 1ã€ç¼–å†™å£°æ˜æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%E6%94%BE%E5%93%AA%E5%84%BF"><span class="nav-text"> 2ã€å£°æ˜æ–‡ä»¶æ”¾å“ªå„¿</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%A6%82%E4%BD%95%E5%8F%91%E5%B8%83%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6"><span class="nav-text"> 3ã€å¦‚ä½•å‘å¸ƒå£°æ˜æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E6%8F%92%E4%BB%B6"><span class="nav-text"> 4ã€æ’ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%E4%BE%9D%E8%B5%96"><span class="nav-text"> 5ã€å£°æ˜æ–‡ä»¶ä¾èµ–</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-text"> é…ç½®æ–‡ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80-%E6%A6%82%E8%BF%B0"><span class="nav-text"> ä¸€ã€æ¦‚è¿°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C-%E9%85%8D%E7%BD%AE%E5%B1%9E%E6%80%A7"><span class="nav-text"> äºŒã€é…ç½®å±æ€§</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%96%87%E4%BB%B6%E9%80%89%E9%A1%B9"><span class="nav-text"> 1ã€æ–‡ä»¶é€‰é¡¹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E7%BC%96%E8%AF%91%E9%80%89%E9%A1%B9"><span class="nav-text"> 2ã€ç¼–è¯‘é€‰é¡¹</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-text"> å‚è€ƒèµ„æ–™</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="kyleezhang"
      src="/assets/config/avatar.png">
  <p class="site-author-name" itemprop="name">kyleezhang</p>
  <div class="site-description" itemprop="description">å­¦æºäºæ€</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">39</span>
          <span class="site-state-item-name">æ–‡ç« </span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/kyleezhang" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;kyleezhang" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/2942181559@qq.com" title="E-Mail â†’ 2942181559@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/6998903195" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;6998903195" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kyleezhang</span>
</div>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">567k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">8:35</span>
</div>



        
<div class="busuanzi-count footer-inner">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '5cb74a324ff7b0f7b544',
      clientSecret: 'cd372db5bb46f07eda7fae4b615fd27371c80dc7',
      repo        : 'kyleezhang.github.io',
      owner       : 'kyleezhang',
      admin       : ['kyleezhang'],
      id          : '34cfe119d672dab4bd35627162e7f99b',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

  <!-- èƒŒæ™¯åŠ¨ç”» -->
<script src="/js/particle.js"></script>

</body>
</html>
